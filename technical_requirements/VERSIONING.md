# Стратегия версионирования LMS "ЦУМ"

## Семантическое версионирование

Мы используем семантическое версионирование (SemVer) в формате: **MAJOR.MINOR.PATCH**

### MAJOR версия (X.0.0)
Увеличивается когда:
- Вносятся несовместимые изменения API
- Кардинально меняется архитектура
- Требуется сложная миграция данных
- Меняется основная бизнес-модель

### MINOR версия (x.X.0)
Увеличивается когда:
- Добавляется новая функциональность
- Сохраняется обратная совместимость
- Добавляются новые микросервисы
- Расширяется API без breaking changes

### PATCH версия (x.x.X)
Увеличивается когда:
- Исправляются баги
- Улучшается производительность
- Обновляется документация
- Проводятся security updates

## Дорожная карта версий

### Phase 1: Foundation (v1.x)
**Цель:** Создание базового функционала для корпоративного обучения

- **v1.0.0** - MVP Release
  - Управление компетенциями
  - Онбординг программы
  - Базовые курсы и тесты
  - Интеграция с Microsoft Active Directory

- **v1.1.0** - Улучшения UX
  - Мобильная адаптация
  - Улучшенный дашборд
  - Bulk операции

- **v1.2.0** - Расширение контента
  - Поддержка Cmi5 (Computer Managed Instruction 5)
  - xAPI Learning Record Store (LRS)
  - Отслеживание активностей вне LMS
  - Видео-стриминг
  - Интерактивные материалы

### Phase 2: Growth (v2.x)
**Цель:** Расширение возможностей и масштабирование

- **v2.0.0** - Extended Features
  - Геймификация и бейджи
  - Расширенная аналитика
  - Карьерные треки
  - API для внешних интеграций

- **v2.1.0** - Social Learning
  - Форумы и обсуждения
  - Peer reviews
  - Менторство
  - Групповые проекты

- **v2.2.0** - Integration Hub
  - Интеграция с HR системами
  - Экспорт в BI системы
  - Webhook'и для событий

### Phase 3: Enterprise (v3.x)
**Цель:** Enterprise-ready решение с AI

- **v3.0.0** - Enterprise Edition
  - Multi-tenant архитектура
  - Advanced SSO (OAuth, OIDC)
  - AI-powered рекомендации
  - Предиктивная аналитика

- **v3.1.0** - Global Scale
  - Multi-language support
  - Regional deployments
  - Compliance frameworks
  - White-label решения

## Версионирование API

### Принципы
1. API версия указывается в URL: `/api/v1/`, `/api/v2/`
2. Поддержка старых версий минимум 6 месяцев
3. Deprecation warnings за 3 месяца
4. Миграционные гайды для каждой версии

### Совместимость
- **Forward compatible**: v1.x клиенты работают с v1.y серверами (где y > x)
- **Backward compatible**: v1.y серверы поддерживают v1.x клиентов
- **Breaking changes**: только в major версиях

## Релизный цикл

### Регулярные релизы
- **Major**: Раз в год (Q2)
- **Minor**: Каждые 3 месяца
- **Patch**: По необходимости (баги, security)

### Поддержка версий
- **Current version**: Полная поддержка
- **Previous minor**: Security updates
- **LTS versions**: v1.0, v2.0, v3.0 - поддержка 2 года

## Changelog

Ведется в файле CHANGELOG.md по стандарту [Keep a Changelog](https://keepachangelog.com/)

### Формат записей
```markdown
## [1.2.0] - 2025-09-01
### Added
- Поддержка Cmi5 стандарта
- xAPI Learning Record Store
- Отслеживание офлайн активностей

### Changed
- Улучшена производительность импорта курсов
- Обновлен UI плеера видео

### Fixed
- Исправлена ошибка с загрузкой больших файлов
```

## Git теги

### Формат тегов
- Релизы: `v1.0.0`
- Release candidates: `v1.0.0-rc1`
- Beta версии: `v1.0.0-beta1`
- Alpha версии: `v1.0.0-alpha1`

### Процесс тегирования
```bash
git tag -a v1.0.0 -m "Release version 1.0.0"
git push origin v1.0.0
```

## Миграция между версиями

### База данных
- Все изменения через миграции
- Rollback план для каждой миграции
- Тестирование на копии production данных

### API изменения
- Постепенная миграция через API versioning
- Поддержка обоих версий в переходный период
- Автоматические тесты совместимости

### UI/UX изменения
- Feature flags для постепенного внедрения
- A/B тестирование критических изменений
- Возможность отката к старому интерфейсу 