# User Stories & Acceptance Criteria - v1.0

## User Story 1: Управление компетенциями
**As a** HR-менеджер крупной компании  
**I need** создавать и управлять каталогом компетенций с визуальной категоризацией  
**So that** я могу строить карты компетенций для должностей и отслеживать развитие сотрудников

**Story Points:** 8  
**Priority:** High (основа для всей системы)  
**Dependencies:** Интеграция с Microsoft AD для аутентификации пользователей

### BDD Acceptance Criteria:
```gherkin
Feature: Competency Management

Background:
  Given я авторизован как HR-менеджер
  And у меня есть права на управление компетенциями

Scenario: Создание новой компетенции
  Given я нахожусь в разделе "Компетенции"
  When я нажимаю "Добавить компетенцию"
  And заполняю название "Управление проектами"
  And выбираю цвет "Синий"
  And указываю уровни от 1 до 5
  Then компетенция успешно создается
  And отображается в списке с выбранным цветом

Scenario Outline: Цветовая категоризация компетенций
  Given существует компетенция "<название>"
  When я назначаю ей цвет "<цвет>"
  Then компетенция отображается с фоном "<hex_color>"
  
Examples:
  | название              | цвет    | hex_color |
  | Технические навыки    | Синий   | #2196F3   |
  | Soft skills          | Зеленый | #4CAF50   |
  | Управление           | Красный | #F44336   |

Scenario: Деактивация неиспользуемых полей
  Given я в настройках компетенций
  When я отключаю поля "Сертификаты" и "Внешние курсы"
  Then эти поля не отображаются в форме компетенций
  And существующие данные сохраняются в БД

Scenario: Связывание компетенций с должностями
  Given существует должность "Project Manager"
  And существуют компетенции "Управление проектами", "Коммуникации", "Agile"
  When я редактирую должность
  And добавляю требуемые компетенции с уровнями
  Then компетенции сохраняются для должности
  And отображаются в профиле должности
```

---

## User Story 2: Онбординг новых сотрудников
**As a** руководитель отдела  
**I need** создавать программы адаптации для новых сотрудников  
**So that** новички быстро погружаются в работу и становятся продуктивными

**Story Points:** 13  
**Priority:** High (quick win для бизнеса)  
**Dependencies:** User Story 1, система уведомлений

### BDD Acceptance Criteria:
```gherkin
Feature: Employee Onboarding

Background:
  Given существует шаблон "Базовый онбординг"
  And я руководитель с правами создания программ

Scenario: Создание программы онбординга
  Given новый сотрудник "Иван Петров" в моем отделе
  When я создаю программу на основе шаблона
  And устанавливаю срок 30 дней
  And добавляю курсы "Корпоративная культура", "Продукты компании"
  Then программа автоматически стартует в день выхода
  And сотрудник получает уведомление с планом

Scenario: Отслеживание прогресса онбординга
  Given активная программа онбординга для 5 сотрудников
  When я открываю дашборд руководителя
  Then я вижу прогресс каждого: завершено/всего заданий
  And среднее время прохождения этапов
  And могу отправить напоминание отстающим

Scenario: Автоматическое завершение
  Given сотрудник выполнил все задания программы
  When система проверяет статус
  Then программа помечается как завершенная
  And HR получает уведомление
  And открывается доступ к следующему этапу развития

Scenario: Создание шаблона онбординга
  Given я HR-менеджер
  When я создаю новый шаблон "Онбординг разработчика"
  And добавляю этапы: "Знакомство", "Обучение", "Первые задачи"
  And назначаю курсы и сроки для каждого этапа
  Then шаблон сохраняется
  And доступен для использования руководителями
```

---

## User Story 3: Создание и прохождение курсов
**As a** сотрудник компании  
**I need** проходить назначенные курсы и отслеживать свой прогресс  
**So that** я развиваю необходимые компетенции для карьерного роста

**Story Points:** 21  
**Priority:** High (core функционал)  
**Dependencies:** Система тестирования, файловое хранилище

### BDD Acceptance Criteria:
```gherkin
Feature: Course Management and Learning

Background:
  Given я авторизованный сотрудник
  And мне назначен курс "Основы проектного управления"

Scenario: Прохождение курса с материалами
  Given курс содержит 5 модулей
  When я открываю первый модуль
  Then я вижу видео, презентацию и дополнительные материалы
  And после просмотра модуль помечается как пройденный
  And прогресс обновляется в реальном времени

Scenario: Прохождение теста после курса
  Given я завершил все модули курса
  When я нажимаю "Пройти тест"
  Then открывается тест из 20 вопросов
  And у меня есть 30 минут на прохождение
  And после завершения я вижу результат и ошибки

Scenario Outline: Получение сертификата
  Given я прошел тест с результатом <score>%
  When проходной балл установлен на <passing>%
  Then сертификат <certificate_status>
  
Examples:
  | score | passing | certificate_status           |
  | 85    | 80      | генерируется автоматически  |
  | 75    | 80      | не выдается                 |
  | 90    | 80      | с отличием                  |

Scenario: Создание курса HR-менеджером
  Given я HR-менеджер с правами создания курсов
  When я создаю курс "Тайм-менеджмент"
  And добавляю 3 модуля с материалами
  And настраиваю финальный тест
  Then курс сохраняется в статусе "Черновик"
  And я могу его опубликовать
```

---

## User Story 4: Система тестирования
**As a** HR-менеджер  
**I need** создавать тесты для проверки знаний  
**So that** могу объективно оценивать уровень компетенций сотрудников

**Story Points:** 13  
**Priority:** Medium  
**Dependencies:** User Story 3

### BDD Acceptance Criteria:
```gherkin
Feature: Testing System

Background:
  Given я авторизован как HR-менеджер
  And у меня есть права на создание тестов

Scenario: Создание теста с разными типами вопросов
  Given я создаю тест "Знание продукта"
  When я добавляю вопрос с одним правильным ответом
  And добавляю вопрос с множественным выбором
  And добавляю вопрос с текстовым ответом
  Then все вопросы сохраняются
  And я могу настроить баллы за каждый вопрос

Scenario: Настройка параметров теста
  Given существует тест с 30 вопросами
  When я устанавливаю лимит времени 45 минут
  And проходной балл 70%
  And количество попыток 2
  Then настройки применяются
  And отображаются участникам перед началом

Scenario: Просмотр результатов тестирования
  Given 10 сотрудников прошли тест
  When я открываю отчет по тесту
  Then я вижу средний балл
  And распределение результатов
  And вопросы с наибольшим количеством ошибок
```

---

## User Story 5: Интеграция с Microsoft Active Directory
**As a** IT-администратор  
**I need** настроить интеграцию LMS с корпоративным Microsoft AD  
**So that** пользователи могут использовать свои корпоративные учетные данные для входа

**Story Points:** 8  
**Priority:** High (блокирующая для других функций)  
**Dependencies:** Доступ к Microsoft AD/LDAP серверу

### BDD Acceptance Criteria:
```gherkin
Feature: Microsoft AD Integration

Background:
  Given у меня есть административный доступ к системе
  And есть параметры подключения к AD (host, port, base DN)

Scenario: Настройка LDAP подключения
  Given я в разделе настроек аутентификации
  When я ввожу параметры LDAP сервера
  And указываю базовый DN для поиска пользователей
  And тестирую подключение
  Then соединение успешно установлено
  And я вижу количество найденных пользователей

Scenario: Единый вход через AD
  Given LDAP интеграция настроена
  When пользователь вводит свои корпоративные логин и пароль
  And нажимает "Войти"
  Then система проверяет credentials через AD
  And при успехе создает/обновляет локальный профиль
  And пользователь попадает в личный кабинет

Scenario: Автоматическая синхронизация данных
  Given пользователь успешно вошел через AD
  When система получает данные из AD
  Then автоматически заполняются поля:
    | Поле | Источник AD |
    | ФИО | displayName |
    | Email | mail |
    | Отдел | department |
    | Руководитель | manager |
  And данные обновляются при каждом входе

Scenario: SSO через SAML
  Given настроен SAML Identity Provider
  When пользователь переходит на страницу LMS
  And он уже авторизован в корпоративной сети
  Then происходит автоматический вход без запроса пароля
  And создается сессия в LMS
```

---

## User Story 6: Базовая аналитика
**As a** топ-менеджер  
**I need** видеть ключевые метрики обучения  
**So that** могу оценивать эффективность инвестиций в развитие персонала

**Story Points:** 8  
**Priority:** Medium  
**Dependencies:** Все основные функции

### BDD Acceptance Criteria:
```gherkin
Feature: Basic Analytics

Background:
  Given я авторизован как руководитель
  And в системе есть данные за 3 месяца

Scenario: Просмотр дашборда обучения
  Given я открываю раздел "Аналитика"
  When выбираю период "Последний квартал"
  Then я вижу количество активных пользователей
  And процент завершения курсов
  And среднее время прохождения
  And топ-10 популярных курсов

Scenario: Отчет по подразделению
  Given я руководитель отдела продаж
  When я формирую отчет по своему отделу
  Then вижу прогресс каждого сотрудника
  And общий уровень компетенций отдела
  And сравнение с другими отделами

Scenario: Экспорт данных
  Given я просматриваю аналитический отчет
  When нажимаю "Экспорт в Excel"
  Then формируется файл с детализацией
  And графиками для презентации
``` 