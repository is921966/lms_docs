# UI Макеты: Модуль "Оргструктура компании"

## 1. Главный экран (OrgStructureView)

### Структура экрана:
```
┌─────────────────────────────────────┐
│ ← Назад    Оргструктура    [Import] │
├─────────────────────────────────────┤
│ [🔍 Поиск по структуре...]          │
├─────────────────────────────────────┤
│ ▼ АП - Генеральный менеджер     (1) │
│   ▶ АП.3 - Поддержка бизнеса   (2) │
│     ▼ АП.3.2 - Департамент ИТ (303)│
│       ├─ 👤 Клейменов Е.Б.         │
│       │  Генеральный директор       │
│       ├─ 👤 Коровин А.Н.           │
│       │  Директор по ИТ            │
│       ▶ АП.3.2.1 - Управление  (25)│
│       ▶ АП.3.2.2 - Управление  (48)│
│       ▶ АП.3.2.6 - Отдел авт.   (8)│
│                                     │
├─────────────────────────────────────┤
│ TabBar: [Главная][Курсы][Ещё]       │
└─────────────────────────────────────┘
```

### Элементы:
- **Навигационная панель**: кнопка "Назад", заголовок, кнопка импорта
- **Поисковая строка**: с иконкой поиска и placeholder текстом
- **Дерево структуры**: 
  - Треугольники ▼/▶ для сворачивания/разворачивания
  - Отступы для визуализации иерархии
  - Счетчик сотрудников в скобках
  - Иконки 👤 для сотрудников
- **TabBar**: стандартная навигация приложения

## 2. Детали подразделения (DepartmentDetailView)

### Структура экрана:
```
┌─────────────────────────────────────┐
│ ← Назад  Департамент ИТ     [Edit]  │
├─────────────────────────────────────┤
│ 🏢 Департамент информационных       │
│    технологий                       │
│                                     │
│ Код: АП.3.2                         │
│ Уровень: 2                          │
│ Подчиняется: АП.3 - Поддержка       │
│                                     │
│ 👥 Сотрудники (303)          [Все >]│
├─────────────────────────────────────┤
│ 👤 Клейменов Евгений Борисович      │
│    Генеральный директор             │
│    📧 kleimenov@company.ru          │
├─────────────────────────────────────┤
│ 👤 Коровин Александр Николаевич     │
│    Директор по ИТ                   │
│    📧 korovin@company.ru            │
├─────────────────────────────────────┤
│ 👤 Озерова Ирина Александровна      │
│    Ассистент директора              │
│    📧 ozerova@company.ru            │
├─────────────────────────────────────┤
│ 📁 Подчиненные подразделения (12)   │
├─────────────────────────────────────┤
│ • АП.3.2.1 - Управление автомат.    │
│ • АП.3.2.2 - Управление по разраб.  │
│ • АП.3.2.6 - Отдел автоматизации    │
│                                     │
└─────────────────────────────────────┘
```

## 3. Карточка сотрудника (EmployeeDetailView)

### Структура экрана:
```
┌─────────────────────────────────────┐
│ ← Назад    Сотрудник         [Edit] │
├─────────────────────────────────────┤
│     ┌─────────┐                     │
│     │  Photo  │  Клейменов          │
│     │ 👤 150px│  Евгений Борисович  │
│     └─────────┘                     │
│                                     │
│ Табельный номер: АР21000612         │
│ Должность: Генеральный директор     │
│                                     │
│ 🏢 Подразделение                    │
│ ┌───────────────────────────────┐   │
│ │ АП → АП.3 → АП.3.2            │   │
│ │ Департамент информационных    │   │
│ │ технологий                    │   │
│ └───────────────────────────────┘   │
│                                     │
│ 📞 Контакты                         │
│ ┌───────────────────────────────┐   │
│ │ 📧 kleimenov@company.ru   [✉️] │   │
│ │ 📱 +7 (495) 123-45-67    [📞] │   │
│ └───────────────────────────────┘   │
│                                     │
│ ┌───────────────────────────────┐   │
│ │    [Написать сообщение]       │   │
│ └───────────────────────────────┘   │
│                                     │
└─────────────────────────────────────┘
```

## 4. Импорт из Excel (OrgImportView)

### Структура экрана (обновлено для iOS):
```
┌─────────────────────────────────────┐
│ ← Отмена   Импорт данных            │
├─────────────────────────────────────┤
│                                     │
│ 📥 Импорт оргструктуры              │
│                                     │
│ Загрузите Excel файл с данными      │
│ организационной структуры           │
│                                     │
│ ┌───────────────────────────────┐   │
│ │    📁 Выбрать файл            │   │
│ └───────────────────────────────┘   │
│                                     │
│ ℹ️ Поддерживаемые форматы:          │
│    • Excel (.xlsx, .xls)            │
│    • Максимальный размер: 10 МБ     │
│                                     │
│ 📱 Источники файлов:                │
│    • iCloud Drive                   │
│    • На моём iPhone                 │
│    • Google Drive                   │
│    • Другие облачные сервисы        │
│                                     │
├─────────────────────────────────────┤
│ 📊 Выбранный файл:                  │
│ ДИТ.xlsx (2.4 МБ)                  │
│                                     │
│ ┌───────────────────────────────┐   │
│ │    ✅ Начать импорт            │   │
│ └───────────────────────────────┘   │
│                                     │
└─────────────────────────────────────┘
```

### Альтернативный вариант после выбора файла:
```
┌─────────────────────────────────────┐
│ ← Отмена   Импорт данных    [Start] │
├─────────────────────────────────────┤
│ 📄 Файл: ДИТ.xlsx                   │
│ Размер: 2.4 МБ                      │
│ Изменен: 10.07.2025                 │
│                                     │
├─────────────────────────────────────┤
│ 📊 Предпросмотр данных              │
├─────────────────────────────────────┤
│ Обнаружено:                         │
│ • Подразделений: 69                 │
│ • Сотрудников: 303                  │
│ • Ошибок: 0                         │
│                                     │
│ Первые записи:                      │
│ ┌───────────────────────────────┐   │
│ │ ✅ АП - Генеральный менеджер  │   │
│ │ ✅ АП.3 - Поддержка бизнеса  │   │
│ │ ✅ АР21000612 - Клейменов Е.Б│   │
│ └───────────────────────────────┘   │
│                                     │
│ ┌───────────────────────────────┐   │
│ │    [Выбрать другой файл]      │   │
│ └───────────────────────────────┘   │
│                                     │
└─────────────────────────────────────┘
```

## 5. Процесс импорта

### Структура экрана:
```
┌─────────────────────────────────────┐
│        Импорт данных                │
├─────────────────────────────────────┤
│                                     │
│ 📥 Импортируется файл:              │
│    ДИТ.xlsx                         │
│                                     │
│ ████████████████░░░░ 78%            │
│                                     │
│ Обработано: 237 из 303              │
│                                     │
│ ✅ Подразделений: 54                │
│ ✅ Сотрудников: 183                 │
│ ⚠️ Пропущено: 0                     │
│ ❌ Ошибок: 0                        │
│                                     │
│ Текущая операция:                   │
│ Добавление сотрудника               │
│ "Марченко Сергей Сергеевич"         │
│                                     │
│ ┌───────────────────────────────┐   │
│ │        [Отменить]             │   │
│ └───────────────────────────────┘   │
│                                     │
└─────────────────────────────────────┘
```

## 6. Поиск (OrgSearchView)

### Структура экрана:
```
┌─────────────────────────────────────┐
│ Отмена  [🔍 Введите запрос...]  🎤  │
├─────────────────────────────────────┤
│ Недавние поиски:                    │
│ • Клейменов                         │
│ • АП.3.2.6                          │
│ • Программист                       │
├─────────────────────────────────────┤
│ Результаты:                         │
│                                     │
│ 👥 Сотрудники (3)                   │
│ ┌───────────────────────────────┐   │
│ │ 👤 Клейменов Е.Б.             │   │
│ │    Генеральный директор       │   │
│ │    АП.3.2                     │   │
│ └───────────────────────────────┘   │
│                                     │
│ 🏢 Подразделения (1)                │
│ ┌───────────────────────────────┐   │
│ │ 📁 АП.3.2 - Департамент ИТ    │   │
│ │    303 сотрудника             │   │
│ └───────────────────────────────┘   │
│                                     │
└─────────────────────────────────────┘
```

## Цветовая схема

### Light Mode:
- **Фон**: #FFFFFF (основной), #F2F2F7 (секции)
- **Текст**: #000000 (основной), #8E8E93 (вторичный)
- **Акцент**: #007AFF (ссылки, кнопки)
- **Разделители**: #C6C6C8
- **Успех**: #34C759
- **Предупреждение**: #FF9500
- **Ошибка**: #FF3B30

### Dark Mode:
- **Фон**: #000000 (основной), #1C1C1E (секции)
- **Текст**: #FFFFFF (основной), #8E8E93 (вторичный)
- **Акцент**: #0A84FF (ссылки, кнопки)
- **Разделители**: #38383A
- **Успех**: #30D158
- **Предупреждение**: #FF9F0A
- **Ошибка**: #FF453A

## Анимации и переходы

1. **Сворачивание/разворачивание**:
   - Плавная анимация высоты (0.3s ease-in-out)
   - Поворот треугольника на 90°

2. **Навигация**:
   - Стандартный push/pop переход iOS
   - Hero-анимация для фото сотрудника

3. **Загрузка**:
   - Skeleton screens при загрузке данных
   - Pull-to-refresh для обновления

4. **Document Picker**:
   - Стандартная iOS анимация modal presentation
   - Плавное появление снизу

## Адаптация для iPad

- **Split View**: список слева, детали справа
- **Поддержка multitasking**
- **Ландшафтная ориентация** с оптимизированным layout
- **Увеличенные touch targets** для удобства
- **Drag & Drop** поддерживается только на iPad для импорта файлов 