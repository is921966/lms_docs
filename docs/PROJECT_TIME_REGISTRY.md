# –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —É—á–µ—Ç–∞ –≤—Ä–µ–º–µ–Ω–∏ –ø—Ä–æ–µ–∫—Ç–∞

## üìã –û–ø–∏—Å–∞–Ω–∏–µ

–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —É—á–µ—Ç–∞ –≤—Ä–µ–º–µ–Ω–∏ –ø—Ä–æ–µ–∫—Ç–∞ —Ä–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏—è –∫–∞–ª–µ–Ω–¥–∞—Ä–Ω—ã—Ö –¥–∞—Ç –∏ —É—Å–ª–æ–≤–Ω—ã—Ö –¥–Ω–µ–π –ø—Ä–æ–µ–∫—Ç–∞. –í—Å–µ –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ PostgreSQL –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö, —á—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç:

- ‚úÖ –ï–¥–∏–Ω—É—é —Ç–æ—á–∫—É –ø—Ä–∞–≤–¥—ã –¥–ª—è –≤—Å–µ—Ö –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç –∫–∞–ª–µ–Ω–¥–∞—Ä–Ω—ã—Ö –¥–∞—Ç –æ—Ç –Ω–∞—á–∞–ª–∞ –ø—Ä–æ–µ–∫—Ç–∞ (21.06.2025)
- ‚úÖ –ü–æ–ª–Ω—É—é –∏—Å—Ç–æ—Ä–∏—é –≤—Å–µ—Ö –¥–Ω–µ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –ø–æ –∫–∞–∂–¥–æ–º—É –¥–Ω—é
- ‚úÖ –ê–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ —Å–ø—Ä–∏–Ω—Ç–∞–º –∏ –ø—Ä–æ–µ–∫—Ç—É

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ó–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å PostgreSQL –≤ Docker
docker-compose -f docker-compose.local.yml up -d

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
docker-compose -f docker-compose.local.yml ps
```

### 2. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
pip3 install psycopg2-binary

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ç–∞–±–ª–∏—Ü—ã
python3 scripts/project_time_db.py init

# –ú–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ JSON
python3 scripts/project_time_db.py migrate
```

### 3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ report.sh

–í—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–æ–º–∞–Ω–¥—ã —Ç–µ–ø–µ—Ä—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è —Å –ë–î:

```bash
# –ù–∞—á–∞—Ç—å –¥–µ–Ω—å
./scripts/report.sh start-day 143

# –ó–∞–≤–µ—Ä—à–∏—Ç—å –¥–µ–Ω—å  
./scripts/report.sh end-day 143

# –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥–Ω–µ
python3 scripts/project_time_db.py info 143
```

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü—ã

### –û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–ª—è:

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `project_day` | INTEGER | –£—Å–ª–æ–≤–Ω—ã–π –¥–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞ (1, 2, 3...) |
| `calendar_date` | DATE | –†–µ–∞–ª—å–Ω–∞—è –∫–∞–ª–µ–Ω–¥–∞—Ä–Ω–∞—è –¥–∞—Ç–∞ |
| `sprint_number` | INTEGER | –ù–æ–º–µ—Ä —Å–ø—Ä–∏–Ω—Ç–∞ |
| `sprint_day` | INTEGER | –î–µ–Ω—å –≤–Ω—É—Ç—Ä–∏ —Å–ø—Ä–∏–Ω—Ç–∞ (1-5) |
| `start_time` | TIMESTAMP | –í—Ä–µ–º—è –Ω–∞—á–∞–ª–∞ —Ä–∞–±–æ—Ç—ã |
| `end_time` | TIMESTAMP | –í—Ä–µ–º—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã |
| `duration_minutes` | INTEGER | –ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤ –º–∏–Ω—É—Ç–∞—Ö |

### –ú–µ—Ç—Ä–∏–∫–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:

| –ü–æ–ª–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|----------|
| `commits_count` | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–º–º–∏—Ç–æ–≤ |
| `files_changed` | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–∑–º–µ–Ω–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ |
| `lines_added` | –î–æ–±–∞–≤–ª–µ–Ω–æ —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞ |
| `lines_deleted` | –£–¥–∞–ª–µ–Ω–æ —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞ |
| `tests_total` | –í—Å–µ–≥–æ —Ç–µ—Å—Ç–æ–≤ |
| `tests_passed` | –ü—Ä–æ—à–ª–æ —Ç–µ—Å—Ç–æ–≤ |
| `tests_failed` | –ü—Ä–æ–≤–∞–ª–∏–ª–æ—Å—å —Ç–µ—Å—Ç–æ–≤ |
| `tests_fixed` | –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ —Ç–µ—Å—Ç–æ–≤ |
| `test_coverage_percent` | –ü—Ä–æ—Ü–µ–Ω—Ç –ø–æ–∫—Ä—ã—Ç–∏—è |

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è:

| –ü–æ–ª–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|----------|
| `tasks_planned` | –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ –∑–∞–¥–∞—á |
| `tasks_completed` | –í—ã–ø–æ–ª–Ω–µ–Ω–æ –∑–∞–¥–∞—á |
| `bugs_fixed` | –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –±–∞–≥–æ–≤ |
| `features_added` | –î–æ–±–∞–≤–ª–µ–Ω–æ —Ñ–∏—á |
| `notes` | –ü—Ä–∏–º–µ—á–∞–Ω–∏—è |
| `mood` | –ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—å (high/normal/low) |
| `blockers` | –ë–ª–æ–∫–µ—Ä—ã –∏ –ø—Ä–æ–±–ª–µ–º—ã |

## üîß –ö–æ–º–∞–Ω–¥—ã CLI

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–Ω—è–º–∏:

```bash
# –ù–∞—á–∞—Ç—å –¥–µ–Ω—å
python3 scripts/project_time_db.py start 143

# –ó–∞–≤–µ—Ä—à–∏—Ç—å –¥–µ–Ω—å
python3 scripts/project_time_db.py end 143

# –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥–Ω–µ
python3 scripts/project_time_db.py info 143
```

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:

```bash
# –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
python3 scripts/project_time_db.py stats

# –≠–∫—Å–ø–æ—Ä—Ç –≤ JSON (–¥–ª—è –±—ç–∫–∞–ø–∞)
python3 scripts/project_time_db.py export --output backup.json
```

## üìà SQL Views

### sprint_summary
–ê–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ —Å–ø—Ä–∏–Ω—Ç–∞–º:
```sql
SELECT * FROM sprint_summary WHERE sprint_number = 30;
```

### daily_productivity
–ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—å:
```sql
SELECT * FROM daily_productivity ORDER BY project_day DESC LIMIT 10;
```

## üîÑ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –æ—Ç—á–µ—Ç–∞–º–∏

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
1. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ start/end —á–µ—Ä–µ–∑ report.sh
2. –û–±–Ω–æ–≤–ª—è–µ—Ç –º–µ—Ç—Ä–∏–∫–∏ –∏–∑ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã—Ö –æ—Ç—á–µ—Ç–æ–≤
3. –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø—É—Ç–∏ –∫ —Ñ–∞–π–ª–∞–º –æ—Ç—á–µ—Ç–æ–≤
4. –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –∫–∞–ª–µ–Ω–¥–∞—Ä–Ω—ã–µ –¥–∞—Ç—ã –æ—Ç 21.06.2025

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–ù–∞—á–∞–ª–æ –ø—Ä–æ–µ–∫—Ç–∞**: 21 –∏—é–Ω—è 2025 –≥–æ–¥–∞ (–∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞ PROJECT_START_DATE)
2. **–§–æ—Ä–º—É–ª–∞ –∫–∞–ª–µ–Ω–¥–∞—Ä–Ω–æ–≥–æ –¥–Ω—è**: `calendar_date = PROJECT_START_DATE + (project_day - 1)`
3. **–°–ø—Ä–∏–Ω—Ç—ã**: –ü–æ 5 –¥–Ω–µ–π, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è
4. **–ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è —Å–µ—Ä–≤–µ—Ä–∞

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### PostgreSQL –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω:
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
docker-compose -f docker-compose.local.yml ps

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏
docker-compose -f docker-compose.local.yml logs postgres_local
```

### –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
export DB_HOST=localhost
export DB_PORT=5432
export DB_DATABASE=lms
export DB_USERNAME=postgres
export DB_PASSWORD=secret
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö:
```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –ë–î –Ω–∞–ø—Ä—è–º—É—é
docker exec -it lms_postgres_local psql -U postgres -d lms

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
SELECT project_day, calendar_date, sprint_number, status 
FROM project_time_registry 
ORDER BY project_day DESC 
LIMIT 10;
```

## üìù –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫ –¥–Ω—è:
```python
from scripts.project_time_db import ProjectTimeDB

db = ProjectTimeDB()
db.update_day_info(143,
    tests_fixed=15,
    files_changed=4,
    test_coverage_percent=85.5,
    notes="–£—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–∏–ª–∏ unit —Ç–µ—Å—Ç—ã",
    mood="high"
)
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —Å–ø—Ä–∏–Ω—Ç–∞:
```python
sprint_stats = db.get_sprint_summary(30)
print(f"Sprint 30: {sprint_stats['total_minutes']/60:.1f} hours")
```

---

*–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞ –≤ —Ä–∞–º–∫–∞—Ö Sprint 30 –¥–ª—è —Ä–µ—à–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º—ã —É—á–µ—Ç–∞ –≤—Ä–µ–º–µ–Ω–∏* 