# üõ°Ô∏è –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∑–∞—â–∏—Ç–µ GitHub Actions Workflows

**–í–µ—Ä—Å–∏—è**: 1.0.0
**–î–∞—Ç–∞**: 2025-06-29
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ê–ö–¢–ò–í–ù–û

## üìã –û–±–∑–æ—Ä

–≠—Ç–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –æ–ø–∏—Å—ã–≤–∞–µ—Ç —Å–∏—Å—Ç–µ–º—É –∑–∞—â–∏—Ç—ã —ç—Ç–∞–ª–æ–Ω–Ω—ã—Ö GitHub Actions workflows, –∫–æ—Ç–æ—Ä—ã–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ —Ä–∞–±–æ—Ç–∞—é—Ç –∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π –≤ TestFlight.

## üîí –°–∏—Å—Ç–µ–º–∞ –∑–∞—â–∏—Ç—ã

### 1. –≠—Ç–∞–ª–æ–Ω–Ω—ã–µ –∫–æ–ø–∏–∏

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ**: `.github/workflows-golden-copy/`

–°–æ–¥–µ—Ä–∂–∏—Ç –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ –≤—Å–µ—Ö –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö workflows:
- `ios-testflight-deploy.yml` - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π –≤ TestFlight
- `ios-test.yml` - –∑–∞–ø—É—Å–∫ iOS —Ç–µ—Å—Ç–æ–≤
- `quick-status.yml` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –ø—Ä–æ–µ–∫—Ç–∞
- `feedback-automation.yml` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏

### 2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏

**–°–∫—Ä–∏–ø—Ç**: `scripts/check-workflows-integrity.sh`

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –≤—Ä—É—á–Ω—É—é
./scripts/check-workflows-integrity.sh

# –†–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–∫–∞–∂–µ—Ç:
# ‚úÖ –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —ç—Ç–∞–ª–æ–Ω—É
# ‚ùå –û—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç —ç—Ç–∞–ª–æ–Ω–∞
# üÜï –ù–æ–≤—ã–π workflow
# ‚ö†Ô∏è –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ —Ä–∞–±–æ—á–µ–π –ø–∞–ø–∫–µ
```

### 3. Pre-commit –∑–∞—â–∏—Ç–∞

**Hook**: `.git/hooks/pre-commit`

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ workflows –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º:
- –°—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç —Å —ç—Ç–∞–ª–æ–Ω–Ω—ã–º–∏ –∫–æ–ø–∏—è–º–∏
- –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞–µ—Ç –æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö
- –ë–ª–æ–∫–∏—Ä—É–µ—Ç –∫–æ–º–º–∏—Ç –ø—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º

### 4. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ —ç—Ç–∞–ª–æ–Ω–Ω–æ–π –∫–æ–ø–∏–∏

```bash
# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ workflows
cp .github/workflows-golden-copy/*.yml .github/workflows/

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π workflow
cp .github/workflows-golden-copy/ios-testflight-deploy.yml .github/workflows/

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç
./scripts/check-workflows-integrity.sh
```

## üìä –ú–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è —Ä–∞–±–æ—Ç—ã —Å workflows

### ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥

1. **–ü–µ—Ä–µ–¥ –∏–∑–º–µ–Ω–µ–Ω–∏–µ–º workflow**:
   ```bash
   # –°–æ–∑–¥–∞—Ç—å –≤–µ—Ç–∫—É –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
   git checkout -b test-workflow-changes
   
   # –í–Ω–µ—Å—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è
   # –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ –≤–µ—Ç–∫–µ
   # –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
   ```

2. **–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**:
   ```bash
   # –û–±–Ω–æ–≤–∏—Ç—å —ç—Ç–∞–ª–æ–Ω–Ω—É—é –∫–æ–ø–∏—é
   cp .github/workflows/updated-workflow.yml .github/workflows-golden-copy/
   
   # –û–±–Ω–æ–≤–∏—Ç—å –≤–µ—Ä—Å–∏—é –≤ README
   # –ó–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
   ```

3. **–ü—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö**:
   ```bash
   # –ë—ã—Å—Ç—Ä–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ä–∞–±–æ—á—É—é –≤–µ—Ä—Å–∏—é
   cp .github/workflows-golden-copy/workflow.yml .github/workflows/
   ```

### ‚ùå –ß–µ–≥–æ –ù–ï –¥–µ–ª–∞—Ç—å

1. **–ù–ï –∏–∑–º–µ–Ω—è–π—Ç–µ** workflows –Ω–∞–ø—Ä—è–º—É—é –≤ master –±–µ–∑ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
2. **–ù–ï —É–¥–∞–ª—è–π—Ç–µ** —ç—Ç–∞–ª–æ–Ω–Ω—ã–µ –∫–æ–ø–∏–∏
3. **–ù–ï –∏–≥–Ω–æ—Ä–∏—Ä—É–π—Ç–µ** –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è pre-commit hook
4. **–ù–ï –∑–∞–±—ã–≤–∞–π—Ç–µ** –æ–±–Ω–æ–≤–ª—è—Ç—å —ç—Ç–∞–ª–æ–Ω–Ω—ã–µ –∫–æ–ø–∏–∏ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π

## üö® –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–ù–ï –ò–ó–ú–ï–ù–Ø–¢–¨):
```yaml
env:
  WORKING_DIRECTORY: LMS_App/LMS
  SCHEME: LMS
  CONFIGURATION: Release
  BUNDLE_IDENTIFIER: ru.tsum.lms.igor
```

### –ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Å–µ–∫—Ä–µ—Ç—ã GitHub:
- `BUILD_CERTIFICATE_BASE64`
- `P12_PASSWORD`
- `KEYCHAIN_PASSWORD`
- `BUILD_PROVISION_PROFILE_BASE64`
- `PROVISION_PROFILE_UUID`
- `APP_STORE_CONNECT_API_KEY_ID`
- `APP_STORE_CONNECT_API_KEY_ISSUER_ID`
- `APP_STORE_CONNECT_API_KEY_KEY`

## üìù –ü—Ä–æ—Ü–µ–¥—É—Ä–∞ —ç–∫—Å—Ç—Ä–µ–Ω–Ω–æ–≥–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è

–ï—Å–ª–∏ CI/CD –ø–µ—Ä–µ—Å—Ç–∞–ª —Ä–∞–±–æ—Ç–∞—Ç—å:

1. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å**:
   ```bash
   ./scripts/check-workflows-integrity.sh
   ```

2. **–í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ workflows**:
   ```bash
   cp .github/workflows-golden-copy/*.yml .github/workflows/
   ```

3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–µ–∫—Ä–µ—Ç—ã**:
   ```bash
   # –ó–∞–ø—É—Å—Ç–∏—Ç—å workflow –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–µ–∫—Ä–µ—Ç–æ–≤
   gh workflow run check-ios-secrets.yml
   ```

4. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å**:
   ```bash
   # –°–¥–µ–ª–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π –∫–æ–º–º–∏—Ç
   git add .
   git commit -m "test: CI/CD recovery test"
   git push
   ```

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —ç—Ç–∞–ª–æ–Ω–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### –ö–æ–≥–¥–∞ –æ–±–Ω–æ–≤–ª—è—Ç—å:
- –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —É–ª—É—á—à–µ–Ω–∏—è workflow
- –ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (Xcode, macOS)
- –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞ –¥–µ–ø–ª–æ—è

### –ö–∞–∫ –æ–±–Ω–æ–≤–ª—è—Ç—å:
1. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–π –≤–µ—Ç–∫–µ
2. –£–±–µ–¥–∏—Ç—å—Å—è –≤ —Å—Ç–∞–±–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç–µ (–º–∏–Ω–∏–º—É–º 3 —É—Å–ø–µ—à–Ω—ã—Ö –∑–∞–ø—É—Å–∫–∞)
3. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤ —ç—Ç–∞–ª–æ–Ω–Ω—É—é –ø–∞–ø–∫—É
4. –û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
5. –°–æ–∑–¥–∞—Ç—å git tag –¥–ª—è –≤–µ—Ä—Å–∏–∏

```bash
# –ü—Ä–∏–º–µ—Ä –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
cp .github/workflows/ios-testflight-deploy.yml .github/workflows-golden-copy/
git add .github/workflows-golden-copy/
git commit -m "chore: Update golden copy of TestFlight deploy workflow v1.1.0"
git tag -a workflows-v1.1.0 -m "Updated TestFlight deploy workflow"
```

## üìä –ò—Å—Ç–æ—Ä–∏—è —É—Å–ø–µ—à–Ω—ã—Ö –∑–∞–ø—É—Å–∫–æ–≤

### v1.0.0 (2025-06-29)
- –í—Å–µ 4 workflow —É—Å–ø–µ—à–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã
- TestFlight –¥–µ–ø–ª–æ–π —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: 2-3 –º–∏–Ω—É—Ç—ã
- –í–µ—Ä—Å–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è 2.0.1 –∑–∞–≥—Ä—É–∂–µ–Ω–∞

## üÜò –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —ç—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏
3. –ü—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ GitHub Actions
4. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∏–∑ —ç—Ç–∞–ª–æ–Ω–Ω–æ–π –∫–æ–ø–∏–∏ –µ—Å–ª–∏ –Ω—É–∂–Ω–æ

---

*–≠—Ç–∞ —Å–∏—Å—Ç–µ–º–∞ –∑–∞—â–∏—Ç—ã –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω—É—é —Ä–∞–±–æ—Ç—É CI/CD pipeline –∏ –±—ã—Å—Ç—Ä–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –≤ —Å–ª—É—á–∞–µ –ø—Ä–æ–±–ª–µ–º.* 