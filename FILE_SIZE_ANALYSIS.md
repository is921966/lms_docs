# –ê–Ω–∞–ª–∏–∑ —Ä–∞–∑–º–µ—Ä–æ–≤ —Ñ–∞–π–ª–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞

## üö® –ü—Ä–æ–±–ª–µ–º–Ω—ã–µ —Ñ–∞–π–ª—ã (> 500 —Å—Ç—Ä–æ–∫)

### Domain —Å–ª–æ–π:
1. **User.php** - 677 —Å—Ç—Ä–æ–∫ ‚ùå –ö–†–ò–¢–ò–ß–ù–û
   - –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: –†–∞–∑–±–∏—Ç—å –Ω–∞ —Ç—Ä–µ–π—Ç—ã –∏–ª–∏ –≤—ã–¥–µ–ª–∏—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–ª–∞—Å—Å—ã
   - –í–æ–∑–º–æ–∂–Ω—ã–µ –≤—ã–¥–µ–ª–µ–Ω–∏—è: UserAuthentication, UserRoles, UserProfile, UserMetadata

### Infrastructure —Å–ª–æ–π:
2. **LdapService.php** - 654 —Å—Ç—Ä–æ–∫–∏ ‚ùå –ö–†–ò–¢–ò–ß–ù–û
   - –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: –†–∞–∑–¥–µ–ª–∏—Ç—å –Ω–∞ LdapAuthenticator, LdapUserImporter, LdapSynchronizer

### Application —Å–ª–æ–π:
3. **AuthService.php** - 584 —Å—Ç—Ä–æ–∫–∏ ‚ùå –ö–†–ò–¢–ò–ß–ù–û
   - –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: –í—ã–¥–µ–ª–∏—Ç—å TokenService, TwoFactorService, PasswordResetService

## ‚ö†Ô∏è –§–∞–π–ª—ã —Ç—Ä–µ–±—É—é—â–∏–µ –≤–Ω–∏–º–∞–Ω–∏—è (300-500 —Å—Ç—Ä–æ–∫)

1. **UserService.php** - 496 —Å—Ç—Ä–æ–∫
2. **UserController.php** - 454 —Å—Ç—Ä–æ–∫–∏
3. **WorkingAuthService.php** - 358 —Å—Ç—Ä–æ–∫ (–¥—É–±–ª–∏–∫–∞—Ç?)
4. **UserRepository.php** - 319 —Å—Ç—Ä–æ–∫
5. **AuthController.php** - 318 —Å—Ç—Ä–æ–∫
6. **Password.php** - 303 —Å—Ç—Ä–æ–∫–∏

## ‚úÖ –û–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã (< 300 —Å—Ç—Ä–æ–∫)

–ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —Ñ–∞–π–ª–æ–≤ –∏–º–µ—é—Ç –ø—Ä–∏–µ–º–ª–µ–º—ã–π —Ä–∞–∑–º–µ—Ä –¥–ª—è LLM.

## üìä –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥—É

### 1. User.php (677 —Å—Ç—Ä–æ–∫) ‚Üí —Ä–∞–∑–±–∏—Ç—å –Ω–∞:
- `User.php` - –æ—Å–Ω–æ–≤–Ω–∞—è –º–æ–¥–µ–ª—å (< 200 —Å—Ç—Ä–æ–∫)
- `UserAuthenticationTrait.php` - –º–µ—Ç–æ–¥—ã –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- `UserRolesTrait.php` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–æ–ª—è–º–∏
- `UserProfileTrait.php` - –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `UserMetadataTrait.php` - –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### 2. LdapService.php (654 —Å—Ç—Ä–æ–∫–∏) ‚Üí —Ä–∞–∑–±–∏—Ç—å –Ω–∞:
- `LdapAuthenticator.php` - —Ç–æ–ª—å–∫–æ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- `LdapUserImporter.php` - –∏–º–ø–æ—Ä—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `LdapSynchronizer.php` - —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- `LdapConfiguration.php` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### 3. AuthService.php (584 —Å—Ç—Ä–æ–∫–∏) ‚Üí —Ä–∞–∑–±–∏—Ç—å –Ω–∞:
- `AuthService.php` - –æ—Å–Ω–æ–≤–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (< 200 —Å—Ç—Ä–æ–∫)
- `TokenService.php` - —Ä–∞–±–æ—Ç–∞ —Å JWT —Ç–æ–∫–µ–Ω–∞–º–∏
- `TwoFactorService.php` - –¥–≤—É—Ö—Ñ–∞–∫—Ç–æ—Ä–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- `PasswordResetService.php` - —Å–±—Ä–æ—Å –ø–∞—Ä–æ–ª–µ–π

## üéØ –¶–µ–ª–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏

- **–û–ø—Ç–∏–º–∞–ª—å–Ω–æ**: 50-150 —Å—Ç—Ä–æ–∫ –Ω–∞ —Ñ–∞–π–ª
- **–ü—Ä–∏–µ–º–ª–µ–º–æ**: 150-300 —Å—Ç—Ä–æ–∫ –Ω–∞ —Ñ–∞–π–ª
- **–¢—Ä–µ–±—É–µ—Ç —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞**: > 300 —Å—Ç—Ä–æ–∫
- **–ö—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è LLM**: > 500 —Å—Ç—Ä–æ–∫

## üîß –ü–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π

1. **Sprint 4**: –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤
2. **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: User.php, LdapService.php, AuthService.php
3. **–ú–µ—Ç–æ–¥**: Extract Class, Extract Trait, Single Responsibility
4. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: –°–æ—Ö—Ä–∞–Ω–∏—Ç—å 100% –ø–æ–∫—Ä—ã—Ç–∏–µ 