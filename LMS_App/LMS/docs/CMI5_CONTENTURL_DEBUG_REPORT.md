# Cmi5 ContentUrl Debug Report

## –ü—Ä–æ–±–ª–µ–º–∞
–û—à–∏–±–∫–∞ "ID –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –Ω–µ —É–∫–∞–∑–∞–Ω" –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ Cmi5 –º–æ–¥—É–ª–µ–π –≤ —Ä–µ–∂–∏–º–µ —Å—Ç—É–¥–µ–Ω—Ç–∞.

## –ü—Ä–∏—á–∏–Ω–∞
1. **–û—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞**: –ü—Ä–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ Cmi5 –ø–∞–∫–µ—Ç–æ–≤ –≤ `ManagedCourse` –ø–æ–ª–µ `contentUrl` –Ω–µ –∑–∞–ø–æ–ª–Ω—è–ª–æ—Å—å –¥–ª—è –º–æ–¥—É–ª–µ–π —Ç–∏–ø–∞ Cmi5.
2. **–°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫—É—Ä—Å—ã**: –ö—É—Ä—Å—ã, —Å–æ–∑–¥–∞–Ω–Ω—ã–µ –¥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è, –∏–º–µ—é—Ç `contentUrl = nil` –¥–ª—è Cmi5 –º–æ–¥—É–ª–µ–π.

## –í–Ω–µ—Å–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### 1. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤ Cmi5CourseConverter.swift
```swift
// –ë—ã–ª–æ:
contentUrl: nil,

// –°—Ç–∞–ª–æ:
contentUrl: block.activities.first?.activityId,
```

–¢–µ–ø–µ—Ä—å –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –º–æ–¥—É–ª–µ–π –∏–∑ Cmi5 –±–ª–æ–∫–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `activityId` –ø–µ—Ä–≤–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –±–ª–æ–∫–∞.

### 2. –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ ModuleContentPreviews.swift
```swift
print("üîç [Cmi5ModulePreview] loadCmi5Activity() started")
print("   - module.contentUrl: \(String(describing: module.contentUrl))")
print("   - cmi5PackageId: \(String(describing: cmi5PackageId))")
// ... –∏ –¥—Ä—É–≥–∏–µ –ª–æ–≥–∏ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
```

### 3. –í—Ä–µ–º–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∫—É—Ä—Å–æ–≤
–î–æ–±–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–∏—Å–∫–∞ –ø–µ—Ä–≤–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏, –µ—Å–ª–∏ `contentUrl` –ø—É—Å—Ç–æ–π:
```swift
if activityIdToUse == nil && cmi5PackageId != nil {
    // –ò—â–µ–º –ø–µ—Ä–≤—É—é –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –≤ –ø–∞–∫–µ—Ç–µ
    activityIdToUse = findFirstActivityId(in: rootBlock)
}
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –°–æ–∑–¥–∞–Ω—ã —Ç–µ—Å—Ç—ã:
1. `test_cmi5Module_withContentUrl_shouldLoadActivity` - –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –º–æ–¥—É–ª–∏ —Å –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–º contentUrl
2. `test_cmi5Module_withoutContentUrl_shouldFindFirstActivity` - –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
3. `test_cmi5CourseConverter_shouldSetContentUrl` - –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä–∞

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∫—É—Ä—Å–æ–≤:
1. **–í–∞—Ä–∏–∞–Ω—Ç 1**: –£–¥–∞–ª–∏—Ç—å –∏ –ø–µ—Ä–µ–∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å Cmi5 –∫—É—Ä—Å—ã
2. **–í–∞—Ä–∏–∞–Ω—Ç 2**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—Ä–µ–º–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ (—É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)

### –î–ª—è –Ω–æ–≤—ã—Ö –∫—É—Ä—Å–æ–≤:
- –í—Å–µ –Ω–æ–≤—ã–µ Cmi5 –∫—É—Ä—Å—ã –±—É–¥—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–º–µ—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π `contentUrl`

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
2. –í–æ–π–¥–∏—Ç–µ –∫–∞–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫—É—Ä—Å–∞–º–∏"
4. –í—ã–±–µ—Ä–∏—Ç–µ Cmi5 –∫—É—Ä—Å (–Ω–∞–ø—Ä–∏–º–µ—Ä, "AI Fluency")
5. –ù–∞–∂–º–∏—Ç–µ "–ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∫–∞–∫ —Å—Ç—É–¥–µ–Ω—Ç"
6. –û—Ç–∫—Ä–æ–π—Ç–µ –ª—é–±–æ–π Cmi5 –º–æ–¥—É–ª—å

### –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
- –ú–æ–¥—É–ª—å –¥–æ–ª–∂–µ–Ω –æ—Ç–∫—Ä—ã—Ç—å—Å—è –±–µ–∑ –æ—à–∏–±–∫–∏
- –í –ª–æ–≥–∞—Ö –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞–≥—Ä—É–∑–∫–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- –ï—Å–ª–∏ –∫–æ–Ω—Ç–µ–Ω—Ç –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, –¥–æ–ª–∂–Ω–∞ –ø–æ–∫–∞–∑–∞—Ç—å—Å—è —Å–∏–º—É–ª—è—Ü–∏—è

## –°—Ç–∞—Ç—É—Å: ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

–ü—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞. –ù–æ–≤—ã–µ –∫—É—Ä—Å—ã —Å–æ–∑–¥–∞—é—Ç—Å—è —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º `contentUrl`, –∞ –¥–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∫—É—Ä—Å–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏. 