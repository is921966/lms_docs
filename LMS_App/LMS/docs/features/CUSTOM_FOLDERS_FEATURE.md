# Custom Folders Feature - LMS News

## Обзор

Функциональность кастомных папок позволяет пользователям организовывать каналы новостей в персонализированные группы для более удобной навигации и фильтрации контента.

## Основные возможности

### 1. Создание папок
- Пользователь может создать кастомную папку через кнопку "+" в панели папок
- При создании указывается:
  - Название папки (обязательно)
  - Иконка из предложенного набора
  - Каналы для включения в папку (минимум 1)

### 2. Фильтрация по папкам
- При выборе папки отображаются только каналы, добавленные в неё
- Счетчик непрочитанных обновляется автоматически
- Папка "All" показывает все доступные каналы

### 3. Управление папками
- Долгое нажатие на кастомную папку показывает контекстное меню
- Возможность удалить папку с подтверждением
- Системные папки (All, Sprints, Docs) удалить нельзя

### 4. Персистентность
- Кастомные папки сохраняются в UserDefaults
- При перезапуске приложения папки восстанавливаются

## Техническая реализация

### Компоненты

1. **FeedFolder** - модель папки с поддержкой кастомных фильтров
2. **CreateFolderView** - UI для создания новой папки
3. **FolderTab** - компонент отображения папки с поддержкой контекстного меню
4. **TelegramFeedViewModel** - логика управления папками

### API

```swift
// Создание папки
viewModel.createCustomFolder(
    name: String,
    icon: String,
    channelIds: [String]
)

// Удаление папки
viewModel.deleteCustomFolder(_ folder: FeedFolder)

// Получение количества непрочитанных
viewModel.getUnreadCount(for: FeedFolder) -> Int
```

## Тестирование

### Unit тесты (CustomFolderTests)
- ✅ Создание папки добавляет её в список
- ✅ Фильтр папки работает корректно
- ✅ Папки сохраняются между сессиями
- ✅ Удаление папки удаляет из списка
- ✅ Нельзя удалить системные папки
- ✅ Подсчет непрочитанных работает правильно

### UI тесты (CreateFolderUITests)
- ✅ Полный флоу создания папки
- ✅ Валидация формы создания
- ✅ Отмена создания папки
- ✅ Фильтрация по кастомной папке

## Скриншоты

### Главный экран с папками
- Горизонтальная прокрутка папок
- Счетчики непрочитанных в скобках
- Выделение активной папки синим цветом

### Форма создания папки
- Поле ввода названия
- Выбор иконки из набора
- Список каналов с чекбоксами
- Счетчик выбранных каналов

### Удаление папки
- Контекстное меню при долгом нажатии
- Алерт подтверждения удаления

## Будущие улучшения

1. **Drag & Drop** для изменения порядка папок
2. **Редактирование** существующих папок
3. **Экспорт/импорт** папок между устройствами
4. **Умные папки** с автоматическими фильтрами
5. **Цветовые темы** для папок 