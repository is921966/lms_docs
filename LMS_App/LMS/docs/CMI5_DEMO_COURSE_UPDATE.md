# Обновление демо курса Cmi5

## Изменение от 11 июля 2025

### Описание
Обновлена функциональность кнопки "Демо курс" для использования реального курса вместо генерируемого программно.

### Новый демо курс
**Файл**: `/Users/ishirokov/lms_docs/cmi5_courses/ai_fluency_course_v1.0.zip`  
**Название**: AI Fluency: Эффективное взаимодействие с ИИ  
**Язык**: Русский/Английский (билингвальный)

### Структура курса
1. **Модуль 1: Основы AI Fluency**
   - Что такое AI Fluency?
   - Правильный подход к ИИ
   - Тест: Основы AI Fluency

2. **Модуль 2: Мастерство создания промптов**
   - Основы промпт-инжиниринга
   - Продвинутые техники промптинга
   - Практикум: Создание промптов
   - Тест: Промпт-инжиниринг

3. **Модуль 3: ИИ в повседневной работе**
   - ИИ для создания контента
   - ИИ для анализа и исследований
   - ИИ для программирования
   - Кейсы успешного применения

4. **Модуль 4: Этика и развитие навыков**
   - Этические аспекты использования ИИ
   - Понимание ограничений ИИ
   - Развитие AI Fluency
   - Итоговая оценка AI Fluency

### Технические изменения

#### 1. Копирование файла в Resources
```bash
cp /Users/ishirokov/lms_docs/cmi5_courses/ai_fluency_course_v1.0.zip LMS/Resources/
```

#### 2. Обновление кода для работы на мобильных устройствах
**Файл**: `Cmi5ImportViewModel.swift`  
**Метод**: `selectDemoFile()`

```swift
// Старая версия: использовался абсолютный путь
// let demoFilePath = "/Users/ishirokov/lms_docs/cmi5_courses/ai_fluency_course_v1.0.zip"

// Новая версия: используется файл из bundle приложения
guard let bundlePath = Bundle.main.path(forResource: "ai_fluency_course_v1.0", ofType: "zip") else {
    print("❌ Demo file not found in bundle")
    error = "Demo file not found in app bundle"
    return
}
```

### Важное изменение для мобильных устройств
Теперь демо курс включен в bundle приложения, что позволяет:
- ✅ Работать на любом устройстве (iPhone, iPad)
- ✅ Не зависеть от файловой системы компьютера
- ✅ Гарантировать доступность демо курса всегда
- ✅ Работать offline без интернета

### Инструкция по добавлению в Xcode
Проект использует `fileSystemSynchronizedGroups`, поэтому файл должен автоматически появиться в Xcode. Если этого не произошло:

1. Откройте проект в Xcode
2. Найдите папку Resources в навигаторе проекта
3. Проверьте наличие файла `ai_fluency_course_v1.0.zip`
4. Убедитесь, что файл включен в "Copy Bundle Resources" build phase

Если файл не появился автоматически:
1. Щелкните правой кнопкой на папку Resources
2. Выберите "Add Files to LMS..."
3. Выберите файл `ai_fluency_course_v1.0.zip`
4. Убедитесь, что отмечено "Copy items if needed"

### Преимущества
1. **Реальный контент** - полноценный учебный курс с настоящим содержанием
2. **Производственное качество** - профессионально созданный курс
3. **Богатая структура** - 4 модуля, 16 активностей, тесты и практикумы
4. **Актуальная тематика** - обучение работе с ИИ
5. **Билингвальность** - поддержка русского и английского языков
6. **Мобильная совместимость** - работает на всех устройствах

### Проверка работоспособности
1. BUILD SUCCEEDED ✅
2. Файл скопирован в Resources ✅
3. Код обновлен для использования Bundle ✅
4. Структура cmi5.xml валидна ✅
5. Интеграция с системой управления курсами работает ✅
6. Парсер обновлен для поддержки langstring ✅

### Дополнительное исправление: поддержка элементов langstring
При первой попытке импорта реального курса возникла ошибка "Манифест содержит недопустимые данные". 
Причина: парсер не умел обрабатывать мультиязычные элементы `<langstring>`.

**Исправление**: Обновлен `Cmi5XMLParser.swift` для поддержки:
- Элементов `<langstring lang="ru">` и `<langstring lang="en">`
- Автоматического выбора языка (приоритет: русский → английский → любой доступный)
- Обратной совместимости с простыми текстовыми элементами

Подробности в [CMI5_LANGSTRING_PARSER_FIX.md](./CMI5_LANGSTRING_PARSER_FIX.md)

### Примечание
Этот курс идеально подходит для демонстрации возможностей системы, так как:
- Содержит разнообразные типы контента
- Использует все возможности стандарта Cmi5
- Имеет практическую ценность для пользователей
- Демонстрирует мультиязычность системы
- Работает на всех устройствах без дополнительной настройки 