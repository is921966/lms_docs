#!/bin/bash

# –°–∫—Ä–∏–ø—Ç –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è Cmi5 —Ç–µ—Å—Ç–æ–≤

echo "üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è Cmi5 —Ç–µ—Å—Ç–æ–≤"
echo "==========================================="
echo ""
echo "‚ö†Ô∏è  –í–ù–ò–ú–ê–ù–ò–ï: –≠—Ç–∏ —Ç–µ—Å—Ç—ã –î–û–õ–ñ–ù–´ –ø–∞–¥–∞—Ç—å!"
echo "   –û–Ω–∏ –ø—Ä–æ–≤–µ—Ä—è—é—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å, –∫–æ—Ç–æ—Ä–∞—è –µ—â–µ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞."
echo ""
echo "–ù–∞–∂–º–∏—Ç–µ Enter –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ø–µ—Ä–≤–æ–≥–æ —Ç–µ—Å—Ç–∞..."
read

echo ""
echo "üß™ –ó–∞–ø—É—Å–∫: testScenario1_BasicCmi5Launch"
echo "   –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: ‚ùå FAIL"
echo "   –ü—Ä–∏—á–∏–Ω–∞: –ù–µ—Ç –∫—É—Ä—Å–æ–≤ —Å Cmi5 –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º"
echo ""

# –ó–∞–ø—É—Å–∫–∞–µ–º —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ç–µ—Å—Ç –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏
xcodebuild test \
    -scheme "LMS" \
    -destination "platform=iOS Simulator,name=iPhone 15,OS=17.0" \
    -only-testing:"LMSUITests/Cmi5UITests/testScenario1_BasicCmi5Launch" \
    2>&1 | grep -E "(Test Case|failed|XCTFail|Assertion Failure)" | while read line
do
    if [[ $line == *"failed"* ]]; then
        echo "‚ùå $line"
    elif [[ $line == *"XCTFail"* ]] || [[ $line == *"Assertion"* ]]; then
        echo "   üí¨ $line"
    else
        echo "   $line"
    fi
done

echo ""
echo "==========================================="
echo "üìã –ß—Ç–æ –º—ã —É–≤–∏–¥–µ–ª–∏:"
echo ""
echo "1. –¢–µ—Å—Ç –∑–∞–ø—É—Å—Ç–∏–ª—Å—è ‚úÖ"
echo "2. –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø—Ä–æ—à–ª–∞ —É—Å–ø–µ—à–Ω–æ ‚úÖ" 
echo "3. –ü–µ—Ä–µ—Ö–æ–¥ –≤ —Ä–∞–∑–¥–µ–ª –ö—É—Ä—Å—ã —Å—Ä–∞–±–æ—Ç–∞–ª ‚úÖ"
echo "4. –ü–æ–∏—Å–∫ Cmi5 –∫—É—Ä—Å–æ–≤ –ù–ï –Ω–∞—à–µ–ª —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ ‚ùå"
echo "5. –¢–µ—Å—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —É–ø–∞–ª —Å –ø–æ–Ω—è—Ç–Ω—ã–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º ‚úÖ"
echo ""
echo "üí° –≠—Ç–æ –ü–†–ê–í–ò–õ–¨–ù–û–ï –ø–æ–≤–µ–¥–µ–Ω–∏–µ –¥–ª—è TDD!"
echo "   –¢–µ—Å—Ç—ã –Ω–∞–ø–∏—Å–∞–Ω—ã –î–û —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏."
echo ""
echo "üìù –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É:"
echo "   1. –°–æ–∑–¥–∞—Ç—å –∫—É—Ä—Å —Å Cmi5 –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º"
echo "   2. –î–æ–±–∞–≤–∏—Ç—å UI —ç–ª–µ–º–µ–Ω—Ç—ã (–∫–Ω–æ–ø–∫–∏, –ø–ª–µ–µ—Ä)"
echo "   3. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É –∑–∞–≥—Ä—É–∑–∫–∏"
echo "   4. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã —Å–Ω–æ–≤–∞ - –æ–Ω–∏ —Å—Ç–∞–Ω—É—Ç –∑–µ–ª–µ–Ω—ã–º–∏!"
echo "" 