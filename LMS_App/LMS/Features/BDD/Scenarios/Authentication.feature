# language: ru
Функция: Аутентификация пользователя
  Как корпоративный сотрудник
  Я хочу безопасно входить в LMS
  Чтобы получить доступ к учебным материалам

  Предыстория:
    Дано приложение LMS запущено
    И я нахожусь на экране входа
    И система подключена к сети

  @smoke @critical
  Сценарий: Успешный вход с валидными учетными данными
    Дано у меня есть корпоративный аккаунт
    Когда я ввожу email "ivan.petrov@company.ru"
    И я ввожу пароль "SecurePass123!"
    И я нажимаю кнопку "Войти"
    Тогда я должен увидеть главную панель
    И я должен увидеть приветственное сообщение "Добро пожаловать, Иван!"
    И моя сессия должна быть активна 24 часа

  @negative
  Сценарий: Неудачный вход с неверным паролем
    Дано у меня есть корпоративный аккаунт
    Когда я ввожу email "ivan.petrov@company.ru"
    И я ввожу пароль "НеверныйПароль"
    И я нажимаю кнопку "Войти"
    Тогда я должен увидеть сообщение об ошибке "Неверный email или пароль"
    И поле пароля должно быть очищено
    И я должен остаться на экране входа
    И кнопка "Войти" должна быть активна

  @validation
  Структура сценария: Валидация полей ввода
    Когда я ввожу email "<email>"
    И я ввожу пароль "<пароль>"
    Тогда кнопка "Войти" должна быть "<состояние>"
    И я должен увидеть сообщение валидации "<сообщение>"

    Примеры:
      | email                  | пароль      | состояние    | сообщение                           |
      |                       | Pass123!    | неактивна    | Email обязателен для заполнения     |
      | невалидный.email      | Pass123!    | неактивна    | Введите корректный email            |
      | ivan@company.ru       |             | неактивна    | Пароль обязателен для заполнения    |
      | ivan@company.ru       | 123         | неактивна    | Пароль должен быть не менее 8 символов |

  @security
  Сценарий: Блокировка после множественных неудачных попыток
    Дано у меня есть корпоративный аккаунт
    Когда я 5 раз подряд ввожу неверный пароль
    Тогда мой аккаунт должен быть временно заблокирован
    И я должен увидеть сообщение "Аккаунт временно заблокирован. Попробуйте через 15 минут"
    И кнопка "Войти" должна быть неактивна
    И должен отобразиться таймер обратного отсчета

  @offline
  Сценарий: Попытка входа без интернета
    Дано система не подключена к сети
    Когда я ввожу email "ivan.petrov@company.ru"
    И я ввожу пароль "SecurePass123!"
    И я нажимаю кнопку "Войти"
    Тогда я должен увидеть сообщение "Нет подключения к интернету"
    И должна быть доступна кнопка "Повторить"

  @biometric @ios17+
  Сценарий: Вход с использованием Face ID
    Дано у меня включена биометрическая аутентификация
    И я ранее входил в приложение
    Когда я открываю приложение
    Тогда должен появиться запрос Face ID
    Когда я успешно прохожу Face ID
    Тогда я должен сразу попасть на главную панель
    И пропустить экран входа 