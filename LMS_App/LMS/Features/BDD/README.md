# ü•í BDD (Behavior-Driven Development) –≤ –ø—Ä–æ–µ–∫—Ç–µ LMS

## –ß—Ç–æ —Ç–∞–∫–æ–µ BDD?

BDD - —ç—Ç–æ –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏, –≥–¥–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –æ–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –Ω–∞ —è–∑—ã–∫–µ, –ø–æ–Ω—è—Ç–Ω–æ–º –≤—Å–µ–º —É—á–∞—Å—Ç–Ω–∏–∫–∞–º –ø—Ä–æ—Ü–µ—Å—Å–∞: —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º, —Ç–µ—Å—Ç–∏—Ä–æ–≤—â–∏–∫–∞–º, –∞–Ω–∞–ª–∏—Ç–∏–∫–∞–º –∏ –±–∏–∑–Ω–µ—Å—É.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ BDD —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤

### Feature —Ñ–∞–π–ª—ã
–ù–∞—Ö–æ–¥—è—Ç—Å—è –≤ –ø–∞–ø–∫–µ `Features/BDD/` –∏ –∏–º–µ—é—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ `.feature`

### –Ø–∑—ã–∫ Gherkin
–ò—Å–ø–æ–ª—å–∑—É–µ–º **—Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫** –¥–ª—è –ª—É—á—à–µ–≥–æ –ø–æ–Ω–∏–º–∞–Ω–∏—è –±–∏–∑–Ω–µ—Å-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π:

```gherkin
# language: ru
–§—É–Ω–∫—Ü–∏—è: –ù–∞–∑–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
  –ö–∞–∫ [—Ä–æ–ª—å]
  –Ø —Ö–æ—á—É [–¥–µ–π—Å—Ç–≤–∏–µ]
  –ß—Ç–æ–±—ã [–±–∏–∑–Ω–µ—Å-—Ü–µ–Ω–Ω–æ—Å—Ç—å]

  –°—Ü–µ–Ω–∞—Ä–∏–π: –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –∫–µ–π—Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
    –î–∞–Ω–æ [–Ω–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ]
    –ö–æ–≥–¥–∞ [–¥–µ–π—Å—Ç–≤–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è]
    –¢–æ–≥–¥–∞ [–æ–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç]
```

## –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

### 1. CourseEnrollment.feature
**–ü–æ–∫—Ä—ã–≤–∞–µ—Ç**: –ó–∞–ø–∏—Å—å –Ω–∞ –∫—É—Ä—Å—ã, –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞, –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
**–°—Ü–µ–Ω–∞—Ä–∏–∏**: 5
**–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å**: –í—ã—Å–æ–∫–∞—è

### 2. TestTaking.feature
**–ü–æ–∫—Ä—ã–≤–∞–µ—Ç**: –ü—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤, –ø—Ä–æ—Å–º–æ—Ç—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤, –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏
**–°—Ü–µ–Ω–∞—Ä–∏–∏**: 5
**–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å**: –í—ã—Å–æ–∫–∞—è

### 3. OnboardingProgram.feature
**–ü–æ–∫—Ä—ã–≤–∞–µ—Ç**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ, –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞—á, –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
**–°—Ü–µ–Ω–∞—Ä–∏–∏**: 5
**–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å**: –í—ã—Å–æ–∫–∞—è

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ UI —Ç–µ—Å—Ç–∞–º–∏

### –ú–∞–ø–ø–∏–Ω–≥ BDD —à–∞–≥–æ–≤ –Ω–∞ UI —Ç–µ—Å—Ç—ã

```swift
// BDD Step Definition
func stepDefinition() {
    Given("—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω –≤ —Å–∏—Å—Ç–µ–º–µ –∫–∞–∫ {string}") { userName in
        // –ò—Å–ø–æ–ª—å–∑—É–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π LoginUITests
        loginHelper.performLogin(as: userName)
    }
    
    When("—è –Ω–∞–∂–∏–º–∞—é –Ω–∞ –∫—É—Ä—Å {string}") { courseName in
        // –ò—Å–ø–æ–ª—å–∑—É–µ–º CourseEnrollmentUITests
        courseListPage.selectCourse(named: courseName)
    }
    
    Then("—è –≤–∏–∂—É —Å–æ–æ–±—â–µ–Ω–∏–µ {string}") { message in
        XCTAssertTrue(app.alerts[message].exists)
    }
}
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ Page Objects –¥–ª—è BDD

```swift
class CourseListPage {
    let app: XCUIApplication
    
    func selectCourse(named: String) {
        app.tables.cells.staticTexts[named].tap()
    }
    
    func getCourseStatus(for course: String) -> String {
        return app.tables.cells
            .containing(.staticText, identifier: course)
            .staticTexts
            .matching(identifier: "courseStatus")
            .firstMatch.label
    }
}
```

## –¢–µ–≥–∏ –¥–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ —Ç–µ—Å—Ç–æ–≤

- `@smoke` - –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—É—Ç–∏, –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –±–∏–ª–¥–µ
- `@critical` - –ö—Ä–∏—Ç–∏—á–Ω—ã–µ –¥–ª—è –±–∏–∑–Ω–µ—Å–∞ —Å—Ü–µ–Ω–∞—Ä–∏–∏
- `@nightly` - –ü–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä —Ç–µ—Å—Ç–æ–≤ –¥–ª—è –Ω–æ—á–Ω—ã—Ö –ø—Ä–æ–≥–æ–Ω–æ–≤
- `@wip` - Work in progress, –ø—Ä–æ–ø—É—Å–∫–∞—é—Ç—Å—è –≤ CI

## –ó–∞–ø—É—Å–∫ BDD —Ç–µ—Å—Ç–æ–≤

### –õ–æ–∫–∞–ª—å–Ω–æ
```bash
# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö BDD —Ç–µ—Å—Ç–æ–≤
xcodebuild test -scheme LMS -testPlan BDDTests

# –ó–∞–ø—É—Å–∫ –ø–æ —Ç–µ–≥—É
xcodebuild test -scheme LMS -testPlan BDDTests -only-testing:LMSUITests/BDD/@smoke
```

### –í CI/CD
```yaml
- name: Run BDD Tests
  run: |
    xcodebuild test \
      -scheme LMS \
      -destination 'platform=iOS Simulator,name=iPhone 15' \
      -testPlan BDDTests \
      -resultBundlePath TestResults/BDD.xcresult
```

## –û—Ç—á–µ—Ç—ã

### Cucumber Reports
–ì–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ—Å–ª–µ –ø—Ä–æ–≥–æ–Ω–∞:
- HTML –æ—Ç—á–µ—Ç —Å –≥—Ä–∞—Ñ–∏–∫–∞–º–∏
- JSON –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –¥—Ä—É–≥–∏–º–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏
- Screenshots –ø—Ä–∏ –ø–∞–¥–µ–Ω–∏–∏ —Ç–µ—Å—Ç–æ–≤

### –ñ–∏–≤–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
Feature —Ñ–∞–π–ª—ã —Å–ª—É–∂–∞—Ç –∞–∫—Ç—É–∞–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π —Å–∏—Å—Ç–µ–º—ã –∏ –≤—Å–µ–≥–¥–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã —Å —Ç–µ—Å—Ç–∞–º–∏.

## Best Practices

1. **–û–¥–∏–Ω —Å—Ü–µ–Ω–∞—Ä–∏–π = –æ–¥–∏–Ω –±–∏–∑–Ω–µ—Å-–∫–µ–π—Å**
2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–∞–±–ª–∏—Ü—ã –¥–ª—è –¥–∞–Ω–Ω—ã—Ö**
3. **–ò–∑–±–µ–≥–∞–π—Ç–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –¥–µ—Ç–∞–ª–µ–π –≤ —Å—Ü–µ–Ω–∞—Ä–∏—è—Ö**
4. **–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —à–∞–≥–∏ –º–µ–∂–¥—É —Å—Ü–µ–Ω–∞—Ä–∏—è–º–∏**
5. **–î–µ—Ä–∂–∏—Ç–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∫–æ—Ä–æ—Ç–∫–∏–º–∏ (3-10 —à–∞–≥–æ–≤)**

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Cucumberish —á–µ—Ä–µ–∑ SPM
2. –°–æ–∑–¥–∞—Ç—å StepDefinitions.swift
3. –°–≤—è–∑–∞—Ç—å —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ Page Objects
4. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –æ—Ç—á–µ—Ç–æ–≤
5. –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ CI/CD pipeline 