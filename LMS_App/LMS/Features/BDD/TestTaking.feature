# language: ru
Функция: Прохождение тестов и оценка знаний
  Как сотрудник
  Я хочу проходить тесты
  Чтобы проверить свои знания и получить сертификаты

  Предыстория:
    Дано я авторизован как "Мария Иванова"
    И я записана на курс "iOS Security Best Practices"
    И я завершила все учебные модули

  @test-types
  Сценарий: Прохождение теста с разными типами вопросов
    Дано доступен финальный тест с 20 вопросами
    И тест содержит вопросы разных типов:
      | Тип вопроса | Количество |
      | Одиночный выбор | 8 |
      | Множественный выбор | 5 |
      | Соответствие | 3 |
      | Порядок действий | 2 |
      | Ввод текста | 2 |
    Когда я начинаю тест
    Тогда я вижу таймер "60:00"
    И прогресс-бар показывает "1 из 20"
    
    Когда я отвечаю на вопрос с одиночным выбором:
      """
      Какой метод используется для безопасного хранения токенов?
      ○ UserDefaults
      ● Keychain
      ○ Core Data
      ○ File System
      """
    И нажимаю "Следующий вопрос"
    Тогда прогресс обновляется на "2 из 20"
    И я могу вернуться к предыдущему вопросу

  @test-results
  Сценарий: Просмотр результатов и разбор ошибок
    Дано я завершила тест по "iOS Security"
    И мой результат составляет 16 из 20 (80%)
    Когда я открываю страницу результатов
    Тогда я вижу:
      | Показатель | Значение |
      | Общий балл | 80% |
      | Правильных ответов | 16 |
      | Неправильных ответов | 4 |
      | Время прохождения | 45:23 |
      | Статус | ✅ Пройден |
    И вижу разбивку по темам:
      | Тема | Результат |
      | Keychain Security | 100% (3/3) |
      | Network Security | 75% (3/4) |
      | Data Encryption | 66% (2/3) |
      | App Transport Security | 100% (4/4) |
      | Biometric Authentication | 80% (4/5) |
    И могу просмотреть каждый неправильный ответ с объяснением

  @retry-attempt
  Сценарий: Повторная попытка после неудачи
    Дано я не прошла тест "Compliance Basics"
    И мой результат 65% (минимальный проходной 70%)
    И политика позволяет 3 попытки
    Когда я нахожусь на странице результатов
    Тогда я вижу сообщение "Тест не пройден. Требуется минимум 70%"
    И вижу кнопку "Пройти повторно (Попытка 2 из 3)"
    И вижу рекомендации:
      """
      Рекомендуем повторить следующие темы:
      - Политика конфиденциальности (ваш результат: 40%)
      - Антикоррупционные меры (ваш результат: 50%)
      """
    Когда я нажимаю "Пройти повторно"
    Тогда начинается новая попытка с перемешанными вопросами

  @adaptive-testing
  Сценарий: Адаптивное тестирование по уровню сложности
    Дано включен режим адаптивного тестирования
    И начальный уровень сложности "Средний"
    Когда я правильно отвечаю на 3 вопроса подряд
    Тогда следующий вопрос имеет уровень "Сложный"
    Когда я неправильно отвечаю на 2 сложных вопроса
    Тогда уровень снижается до "Средний"
    И финальная оценка учитывает сложность вопросов

  @test-interruption
  Сценарий: Сохранение прогресса при прерывании теста
    Дано я прохожу тест "Advanced Swift"
    И ответила на 12 из 30 вопросов
    Когда приложение переходит в фоновый режим
    И я возвращаюсь через 5 минут
    Тогда я вижу диалог "Продолжить тест?"
    И могу продолжить с вопроса 13
    И таймер учитывает время паузы
    Но если прошло более 30 минут
    Тогда тест автоматически завершается
    И засчитываются только отвеченные вопросы 