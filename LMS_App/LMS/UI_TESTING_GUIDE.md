# UI Testing Guide –¥–ª—è LMS iOS App

## üì± –û–±–∑–æ—Ä

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ LMS –∏—Å–ø–æ–ª—å–∑—É–µ—Ç XCUITest –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞. –í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –ø–æ–∫—Ä—ã—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ —Ç–µ—Å—Ç–∞–º–∏.

## üß™ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–µ—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã:
- `LMSUITests.swift` - –æ—Å–Ω–æ–≤–Ω—ã–µ —Ç–µ—Å—Ç—ã –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
- `LessonUITests.swift` - —Ç–µ—Å—Ç—ã –¥–ª—è —É—Ä–æ–∫–æ–≤ –∏ –æ–±—É—á–µ–Ω–∏—è

### –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏:
- ‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (—Å—Ç—É–¥–µ–Ω—Ç/–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä)
- ‚úÖ –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é
- ‚úÖ –°–ø–∏—Å–æ–∫ –∫—É—Ä—Å–æ–≤ –∏ –ø–æ–∏—Å–∫
- ‚úÖ –î–µ—Ç–∞–ª–∏ –∫—É—Ä—Å–∞ –∏ –º–æ–¥—É–ª–∏
- ‚úÖ –ü—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ —É—Ä–æ–∫–æ–≤
- ‚úÖ –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å

## üöÄ –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

### –õ–æ–∫–∞–ª—å–Ω–æ —á–µ—Ä–µ–∑ Xcode:
```bash
# –û—Ç–∫—Ä—ã—Ç—å –ø—Ä–æ–µ–∫—Ç
open LMS.xcodeproj

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ UI —Ç–µ—Å—Ç—ã: Cmd+U
# –ò–ª–∏ –≤—ã–±—Ä–∞—Ç—å —Å—Ö–µ–º—É LMSUITests –∏ –Ω–∞–∂–∞—Ç—å Play
```

### –ß–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É:
```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ UI —Ç–µ—Å—Ç—ã
./run-ui-tests.sh

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ç–µ—Å—Ç
xcodebuild test \
  -scheme LMS \
  -destination "platform=iOS Simulator,name=iPhone 16" \
  -only-testing:LMSUITests/LMSUITests/testMockLogin_AsStudent_ShouldSucceed
```

## üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫

### Pre-commit hook:
–¢–µ—Å—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –ø–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º –∫–æ–º–º–∏—Ç–æ–º. –ï—Å–ª–∏ —Ç–µ—Å—Ç—ã –Ω–µ –ø—Ä–æ—Ö–æ–¥—è—Ç, –∫–æ–º–º–∏—Ç –±—É–¥–µ—Ç –æ—Ç–º–µ–Ω–µ–Ω.

### GitHub Actions:
–ü—Ä–∏ –∫–∞–∂–¥–æ–º push –≤ master –∏–ª–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ PR –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è UI —Ç–µ—Å—Ç—ã –≤ CI/CD.

## üìù –ù–∞–ø–∏—Å–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ç–µ—Å—Ç–æ–≤

### –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–∞:
```swift
func testFeatureName_WhenCondition_ShouldExpectedBehavior() throws {
    // Given - –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞
    let element = app.buttons["ButtonIdentifier"]
    
    // When - –¥–µ–π—Å—Ç–≤–∏–µ
    element.tap()
    
    // Then - –ø—Ä–æ–≤–µ—Ä–∫–∞
    XCTAssertTrue(app.staticTexts["Expected Text"].exists)
}
```

### –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏:
1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Accessibility Identifiers** –¥–ª—è –Ω–∞–¥–µ–∂–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
2. **–î–æ–±–∞–≤–ª—è–π—Ç–µ –æ–∂–∏–¥–∞–Ω–∏—è** –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π:
   ```swift
   XCTAssertTrue(element.waitForExistence(timeout: 5))
   ```
3. **–ò–∑–æ–ª–∏—Ä—É–π—Ç–µ —Ç–µ—Å—Ç—ã** - –∫–∞–∂–¥—ã–π —Ç–µ—Å—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–º
4. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ helper –º–µ—Ç–æ–¥—ã** –¥–ª—è –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è –¥–µ–π—Å—Ç–≤–∏–π

## üè∑Ô∏è Accessibility Identifiers

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤ –∫–æ–¥–µ:
```swift
Button("Login") {
    // action
}
.accessibilityIdentifier("loginButton")
```

### –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã:
- `loginAsStudent` - –∫–Ω–æ–ø–∫–∞ –≤—Ö–æ–¥–∞ –∫–∞–∫ —Å—Ç—É–¥–µ–Ω—Ç
- `loginAsAdmin` - –∫–Ω–æ–ø–∫–∞ –≤—Ö–æ–¥–∞ –∫–∞–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä
- –û—Å—Ç–∞–ª—å–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –Ω–∞—Ö–æ–¥—è—Ç—Å—è –ø–æ —Ç–µ–∫—Å—Ç—É

## üêõ –û—Ç–ª–∞–¥–∫–∞ —Ç–µ—Å—Ç–æ–≤

### –ü—Ä–æ—Å–º–æ—Ç—Ä –∏–µ—Ä–∞—Ä—Ö–∏–∏ —ç–ª–µ–º–µ–Ω—Ç–æ–≤:
```swift
// –í —Ç–µ—Å—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å:
print(app.debugDescription)
```

### –°–∫—Ä–∏–Ω—à–æ—Ç—ã –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö:
```swift
// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –ø—Ä–∏ –ø—Ä–æ–≤–∞–ª–µ —Ç–µ—Å—Ç–∞
// –ù–∞—Ö–æ–¥—è—Ç—Å—è –≤ Test Report
```

### –ó–∞–ø–∏—Å—å UI —Ç–µ—Å—Ç–∞:
1. –ü–æ—Å—Ç–∞–≤–∏—Ç—å –∫—É—Ä—Å–æ—Ä –≤ —Ç–µ—Å—Ç–æ–≤—ã–π –º–µ—Ç–æ–¥
2. –ù–∞–∂–∞—Ç—å –∫—Ä–∞—Å–Ω—É—é –∫–Ω–æ–ø–∫—É –∑–∞–ø–∏—Å–∏ –≤ Xcode
3. –í—ã–ø–æ–ª–Ω–∏—Ç—å –¥–µ–π—Å—Ç–≤–∏—è –≤ —Å–∏–º—É–ª—è—Ç–æ—Ä–µ
4. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø–∏—Å–∞–Ω–Ω—ã–π –∫–æ–¥

## üìä –ú–µ—Ç—Ä–∏–∫–∏

### –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:
- –ü–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä —Ç–µ—Å—Ç–æ–≤: ~2-3 –º–∏–Ω—É—Ç—ã
- –û—Ç–¥–µ–ª—å–Ω—ã–π —Ç–µ—Å—Ç: 10-30 —Å–µ–∫—É–Ω–¥

### –ü–æ–∫—Ä—ã—Ç–∏–µ:
- –û—Å–Ω–æ–≤–Ω—ã–µ user flows: 100%
- Edge cases: ~70%

## üîß Troubleshooting

### –¢–µ—Å—Ç –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç —ç–ª–µ–º–µ–Ω—Ç:
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —ç–ª–µ–º–µ–Ω—Ç –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –Ω–∞ —ç–∫—Ä–∞–Ω–µ
2. –î–æ–±–∞–≤–∏—Ç—å waitForExistence
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å accessibility identifier

### –¢–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç –ª–æ–∫–∞–ª—å–Ω–æ, –Ω–æ –Ω–µ –≤ CI:
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–µ—Ä—Å–∏—é Xcode
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–µ—Ä—Å–∏—é —Å–∏–º—É–ª—è—Ç–æ—Ä–∞
3. –î–æ–±–∞–≤–∏—Ç—å –±–æ–ª—å—à–µ –≤—Ä–µ–º–µ–Ω–∏ –æ–∂–∏–¥–∞–Ω–∏—è

### –°–∏–º—É–ª—è—Ç–æ—Ä –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è:
```bash
# –°–±—Ä–æ—Å–∏—Ç—å —Å–∏–º—É–ª—è—Ç–æ—Ä
xcrun simctl erase all

# –ü–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å —Å–∏–º—É–ª—è—Ç–æ—Ä
xcrun simctl create "iPhone 16" "iPhone 16" iOS18.2
```

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [Apple UI Testing Guide](https://developer.apple.com/documentation/xctest/user_interface_tests)
- [XCUITest Cheat Sheet](https://www.hackingwithswift.com/articles/148/xcode-ui-testing-cheat-sheet)
- [Best Practices](https://developer.apple.com/videos/play/wwdc2023/10037/) 