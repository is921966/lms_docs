#!/bin/bash
# TestFlight Feedback Helper

SCRIPT_DIR="$( cd "$( dirname "${BASH_SOURCE[0]}" )" &> /dev/null && pwd )"

case "$1" in
    setup)
        "$SCRIPT_DIR/setup-testflight-feedback.sh"
        ;;
    fetch)
        cd "$SCRIPT_DIR/scripts" && ./fetch-feedback.sh ${@:2}
        ;;
    test)
        cd "$SCRIPT_DIR/scripts"
        echo "üß™ –¢–µ—Å—Ç–∏—Ä—É–µ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é..."
        python3 -c "import jwt, requests; print('‚úÖ Python –º–æ–¥—É–ª–∏ —Ä–∞–±–æ—Ç–∞—é—Ç')"
        if [ -f ".env.local" ]; then
            echo "‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –Ω–∞–π–¥–µ–Ω–∞"
        else
            echo "‚ùå –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞"
        fi
        ;;
    help|*)
        echo "TestFlight Feedback Automation"
        echo ""
        echo "Usage: ./testflight-feedback [command]"
        echo ""
        echo "Commands:"
        echo "  setup   - –ó–∞–ø—É—Å—Ç–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –Ω–∞—Å—Ç—Ä–æ–π–∫—É"
        echo "  fetch   - –ü–æ–ª—É—á–∏—Ç—å feedback –∏–∑ TestFlight"
        echo "  test    - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫—É"
        echo "  help    - –ü–æ–∫–∞–∑–∞—Ç—å —ç—Ç—É —Å–ø—Ä–∞–≤–∫—É"
        ;;
esac
