# Sprint 51: –ü–ª–∞–Ω –º–∏–≥—Ä–∞—Ü–∏–∏ Backend –Ω–∞ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã

## –î–∞—Ç–∞: 17 –∏—é–ª—è 2025 (–î–µ–Ω—å 166)

### üìã –¢–µ–∫—É—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (–º–æ–Ω–æ–ª–∏—Ç)

```
src/
‚îú‚îÄ‚îÄ Auth/           # –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
‚îú‚îÄ‚îÄ User/           # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
‚îú‚îÄ‚îÄ Competency/     # –ö–æ–º–ø–µ—Ç–µ–Ω—Ü–∏–∏
‚îú‚îÄ‚îÄ Learning/       # –û–±—É—á–µ–Ω–∏–µ –∏ –∫—É—Ä—Å—ã
‚îú‚îÄ‚îÄ Program/        # –£—á–µ–±–Ω—ã–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã
‚îú‚îÄ‚îÄ Notification/   # –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
‚îú‚îÄ‚îÄ OrgStructure/   # –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–æ–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
‚îî‚îÄ‚îÄ Position/       # –î–æ–ª–∂–Ω–æ—Å—Ç–∏
```

### üéØ –¶–µ–ª–µ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤

```yaml
–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã:
  1. AuthService:
     - JWT —Ç–æ–∫–µ–Ω—ã
     - OAuth2/OpenID Connect
     - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏—è–º–∏
     - Rate limiting
     
  2. UserService:
     - CRUD –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
     - –ü—Ä–æ—Ñ–∏–ª–∏
     - –†–æ–ª–∏ –∏ –ø—Ä–∞–≤–∞
     - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å AD/LDAP
     
  3. CourseService:
     - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫—É—Ä—Å–∞–º–∏
     - CMI5 –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
     - –ü—Ä–æ–≥—Ä–µ—Å—Å –æ–±—É—á–µ–Ω–∏—è
     - –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
     
  4. CompetencyService:
     - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–ø–µ—Ç–µ–Ω—Ü–∏—è–º–∏
     - –ú–∞—Ç—Ä–∏—Ü—ã –∫–æ–º–ø–µ—Ç–µ–Ω—Ü–∏–π
     - –û—Ü–µ–Ω–∫–∞ –∫–æ–º–ø–µ—Ç–µ–Ω—Ü–∏–π
     - Gap-–∞–Ω–∞–ª–∏–∑
     
  5. NotificationService:
     - Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
     - Push —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
     - SMS
     - WebSocket real-time
     
  6. OrgStructureService:
     - –î–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç—ã
     - –î–æ–ª–∂–Ω–æ—Å—Ç–∏
     - –ò–µ—Ä–∞—Ä—Ö–∏—è
     - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å HR
```

### üîß –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

```yaml
–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞:
  - –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è: Docker
  - –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è: Kubernetes
  - API Gateway: Kong/Traefik
  - Service Mesh: Istio (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
  - Message Queue: RabbitMQ/Kafka
  - Cache: Redis
  - Monitoring: Prometheus + Grafana
  - Tracing: Jaeger
  - Logs: ELK Stack

–î–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞:
  - Framework: Symfony 6.x
  - API: RESTful + GraphQL (–≥–¥–µ –Ω—É–∂–Ω–æ)
  - DB: PostgreSQL (–æ—Å–Ω–æ–≤–Ω–∞—è) + MongoDB (–≥–¥–µ –Ω—É–∂–Ω–æ)
  - ORM: Doctrine
  - Testing: PHPUnit + Behat
  - API Docs: OpenAPI 3.0
```

### üìä –ü–ª–∞–Ω –º–∏–≥—Ä–∞—Ü–∏–∏

#### –§–∞–∑–∞ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ (–î–µ–Ω—å 166)
- [x] –ê–Ω–∞–ª–∏–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ API Gateway
- [ ] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Docker –æ–∫—Ä—É–∂–µ–Ω–∏—è
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤

#### –§–∞–∑–∞ 2: AuthService (–î–µ–Ω—å 166-167)
- [ ] –í—ã–¥–µ–ª–µ–Ω–∏–µ Auth –º–æ–¥—É–ª—è –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å
- [ ] –†–µ–∞–ª–∏–∑–∞—Ü–∏—è JWT authentication
- [ ] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ API Gateway routing
- [ ] Integration tests

#### –§–∞–∑–∞ 3: UserService (–î–µ–Ω—å 167)
- [ ] –í—ã–¥–µ–ª–µ–Ω–∏–µ User –º–æ–¥—É–ª—è
- [ ] –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –º–µ–∂—Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è
- [ ] –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å AuthService
- [ ] Performance tests

#### –§–∞–∑–∞ 4: CourseService (–î–µ–Ω—å 167-168)
- [ ] –í—ã–¥–µ–ª–µ–Ω–∏–µ Learning –º–æ–¥—É–ª—è
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å UserService
- [ ] CMI5 —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- [ ] Load testing

#### –§–∞–∑–∞ 5: –û—Å—Ç–∞–ª—å–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã (–î–µ–Ω—å 168)
- [ ] CompetencyService
- [ ] NotificationService
- [ ] OrgStructureService
- [ ] End-to-end testing

### üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

#### 1. Inter-Service Communication
```yaml
–°–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ:
  - REST API –¥–ª—è CRUD –æ–ø–µ—Ä–∞—Ü–∏–π
  - GraphQL –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
  
–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ:
  - RabbitMQ –¥–ª—è —Å–æ–±—ã—Ç–∏–π
  - –ü–∞—Ç—Ç–µ—Ä–Ω Event Sourcing –¥–ª—è –∞—É–¥–∏—Ç–∞
```

#### 2. Data Management
```yaml
–ü–∞—Ç—Ç–µ—Ä–Ω—ã:
  - Database per Service
  - CQRS –¥–ª—è —á—Ç–µ–Ω–∏—è/–∑–∞–ø–∏—Å–∏
  - Event Sourcing –¥–ª—è –∏—Å—Ç–æ—Ä–∏–∏
  - Saga Pattern –¥–ª—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
```

#### 3. Security
```yaml
–ú–µ—Ä—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:
  - mTLS –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏
  - API Gateway authentication
  - Rate limiting
  - OWASP best practices
```

#### 4. Resilience
```yaml
–ü–∞—Ç—Ç–µ—Ä–Ω—ã –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏:
  - Circuit Breaker
  - Retry with exponential backoff
  - Bulkhead isolation
  - Timeout handling
```

### üìà –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞

```yaml
Performance:
  - API response time < 100ms (p95)
  - Service startup < 30s
  - Memory usage < 512MB per service
  
Reliability:
  - Uptime > 99.9%
  - Zero data loss
  - Graceful degradation
  
Scalability:
  - Horizontal scaling
  - Auto-scaling based on load
  - Support 10k concurrent users
```

### üöÄ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã

1. **–ö–†–ò–¢–ò–ß–ù–û**: AuthService - –±–µ–∑ –Ω–µ–≥–æ –Ω–∏—á–µ–≥–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
2. **–í–ê–ñ–ù–û**: UserService - core —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
3. **–í–ê–ñ–ù–û**: CourseService - –æ—Å–Ω–æ–≤–Ω–æ–π –±–∏–∑–Ω–µ—Å-—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
4. **–°–†–ï–î–ù–ï**: CompetencyService - –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –≤ –º–æ–Ω–æ–ª–∏—Ç–µ
5. **–ù–ò–ó–ö–û**: NotificationService - –º–æ–∂–Ω–æ –º–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–æ–∑–∂–µ

### ‚ö†Ô∏è –†–∏—Å–∫–∏ –∏ –º–∏—Ç–∏–≥–∞—Ü–∏—è

```yaml
–†–∏—Å–∫–∏:
  1. –°–ª–æ–∂–Ω–æ—Å—Ç—å —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
     –ú–∏—Ç–∏–≥–∞—Ü–∏—è: Saga Pattern, eventual consistency
     
  2. –£–≤–µ–ª–∏—á–µ–Ω–∏–µ latency
     –ú–∏—Ç–∏–≥–∞—Ü–∏—è: –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ, –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤
     
  3. Debugging —Å–ª–æ–∂–Ω–µ–µ
     –ú–∏—Ç–∏–≥–∞—Ü–∏—è: Distributed tracing, centralized logging
     
  4. –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞
     –ú–∏—Ç–∏–≥–∞—Ü–∏—è: Shared libraries, code generation
```

### üìù –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. –°–æ–∑–¥–∞—Ç—å Docker-compose –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å API Gateway (Kong)
3. –ù–∞—á–∞—Ç—å —Å AuthService –∫–∞–∫ proof of concept
4. –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ API –≤ OpenAPI —Ñ–æ—Ä–º–∞—Ç–µ 