# Sprint 12: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ —Å–∏—Å—Ç–µ–º—ã –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏

**–î–∞—Ç–∞**: 2025-06-29
**–°—Ç–∞—Ç—É—Å**: üîß –í –†–ê–ë–û–¢–ï

## üêõ –û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. ‚ùå –°–∫—Ä–∏–Ω—à–æ—Ç—ã –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ GitHub Issues
**–ü—Ä–æ–±–ª–µ–º–∞**: –°–∫—Ä–∏–Ω—à–æ—Ç—ã –¥–µ–ª–∞—é—Ç—Å—è –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏, –Ω–æ –Ω–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä –∏ –Ω–µ –ø–æ—è–≤–ª—è—é—Ç—Å—è –≤ GitHub Issues.
**–ü—Ä–∏—á–∏–Ω–∞**: 
- –í `GitHubFeedbackService.createIssueData()` —Å–∫—Ä–∏–Ω—à–æ—Ç –Ω–µ –≤–∫–ª—é—á–∞–µ—Ç—Å—è –≤ body issue
- –°–µ—Ä–≤–µ—Ä –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç base64 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –≤ GitHub

### 2. ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ç–∏–ø –æ–±—Ä–∞—â–µ–Ω–∏—è
**–ü—Ä–æ–±–ª–µ–º–∞**: –¢–∏–ø –æ–±—Ä–∞—â–µ–Ω–∏—è (bug/feature/improvement/question) –Ω–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ GitHub.
**–ü—Ä–∏—á–∏–Ω–∞**:
- –í `FeedbackView` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω—ã–π enum `FeedbackType`
- –í `FeedbackModel` —Ç–∏–ø —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∫–∞–∫ —Å—Ç—Ä–æ–∫–∞
- –ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –º–µ–∂–¥—É —Ç–∏–ø–∞–º–∏ –≤ —Ä–∞–∑–Ω—ã—Ö —á–∞—Å—Ç—è—Ö —Å–∏—Å—Ç–µ–º—ã

### 3. ‚ùå –°–∫—Ä–∏–Ω—à–æ—Ç —Ç–µ–∫—É—â–µ–≥–æ —ç–∫—Ä–∞–Ω–∞ –≤–º–µ—Å—Ç–æ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ
**–ü—Ä–æ–±–ª–µ–º–∞**: –ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —Ñ–æ—Ä–º—ã –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏ –¥–µ–ª–∞–µ—Ç—Å—è —Å–∫—Ä–∏–Ω—à–æ—Ç —Å–∞–º–æ–π —Ñ–æ—Ä–º—ã, –∞ –Ω–µ —ç–∫—Ä–∞–Ω–∞, —Å –∫–æ—Ç–æ—Ä–æ–≥–æ –æ–Ω–∞ –±—ã–ª–∞ –≤—ã–∑–≤–∞–Ω–∞.
**–ü—Ä–∏—á–∏–Ω–∞**:
- `takeScreenshot()` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –≤ `onAppear` FeedbackView
- –°–∫—Ä–∏–Ω—à–æ—Ç –¥–µ–ª–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –ø–æ–∫–∞–∑–∞ —Ñ–æ—Ä–º—ã, –∞ –Ω–µ –¥–æ

## üìã –ü–ª–∞–Ω –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ 1: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤ –≤ GitHub

1. **–û–±–Ω–æ–≤–∏—Ç—å —Å–µ—Ä–≤–µ—Ä–Ω—É—é —á–∞—Å—Ç—å** –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –≤ GitHub:
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å GitHub API –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∫–∞–∫ attachments
   - –ò–ª–∏ –∑–∞–≥—Ä—É–∂–∞—Ç—å –Ω–∞ image hosting (imgur/cloudinary) –∏ –≤—Å—Ç–∞–≤–ª—è—Ç—å —Å—Å—ã–ª–∫—É

2. **–û–±–Ω–æ–≤–∏—Ç—å `GitHubFeedbackService`**:
   - –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤ –≤ `createIssueData()`
   - –í–∫–ª—é—á–∏—Ç—å —Å—Å—ã–ª–∫—É –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ body issue

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ 2: –£–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è —Ç–∏–ø–æ–≤ –æ–±—Ä–∞—â–µ–Ω–∏–π

1. **–°–æ–∑–¥–∞—Ç—å –µ–¥–∏–Ω—ã–π enum `FeedbackType`** –≤ –æ–±—â–µ–º –º–µ—Å—Ç–µ
2. **–û–±–Ω–æ–≤–∏—Ç—å –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã** –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –µ–¥–∏–Ω–æ–≥–æ —Ç–∏–ø–∞
3. **–î–æ–±–∞–≤–∏—Ç—å –º–∞–ø–ø–∏–Ω–≥** –¥–ª—è GitHub labels

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ 3: –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –∑–∞—Ö–≤–∞—Ç —Å–∫—Ä–∏–Ω—à–æ—Ç–∞

1. **–ò–∑–º–µ–Ω–∏—Ç—å –ª–æ–≥–∏–∫—É –∑–∞—Ö–≤–∞—Ç–∞**:
   - –î–µ–ª–∞—Ç—å —Å–∫—Ä–∏–Ω—à–æ—Ç –î–û –ø–æ–∫–∞–∑–∞ —Ñ–æ—Ä–º—ã –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏
   - –°–æ—Ö—Ä–∞–Ω—è—Ç—å —Å–∫—Ä–∏–Ω—à–æ—Ç –≤ FeedbackManager
   - –ü–µ—Ä–µ–¥–∞–≤–∞—Ç—å –≥–æ—Ç–æ–≤—ã–π —Å–∫—Ä–∏–Ω—à–æ—Ç –≤ FeedbackView

2. **–û–±–Ω–æ–≤–∏—Ç—å FeedbackManager**:
   - –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥ `captureScreenshot()`
   - –í—ã–∑—ã–≤–∞—Ç—å –µ–≥–æ –ø–µ—Ä–µ–¥ `presentFeedback()`

## üöÄ –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

### –®–∞–≥ 1: –£–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è FeedbackType
```swift
// –°–æ–∑–¥–∞—Ç—å –≤ Common/Models/FeedbackType.swift
enum FeedbackType: String, CaseIterable, Codable {
    case bug = "bug"
    case feature = "feature"
    case improvement = "improvement"
    case question = "question"
    
    var title: String {
        switch self {
        case .bug: return "–û—à–∏–±–∫–∞"
        case .feature: return "–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ"
        case .improvement: return "–£–ª—É—á—à–µ–Ω–∏–µ"
        case .question: return "–í–æ–ø—Ä–æ—Å"
        }
    }
    
    var icon: String {
        switch self {
        case .bug: return "ladybug"
        case .feature: return "lightbulb"
        case .improvement: return "wand.and.stars"
        case .question: return "questionmark.circle"
        }
    }
    
    var color: Color {
        switch self {
        case .bug: return .red
        case .feature: return .blue
        case .improvement: return .orange
        case .question: return .purple
        }
    }
    
    var githubLabel: String {
        switch self {
        case .bug: return "bug"
        case .feature: return "enhancement"
        case .improvement: return "improvement"
        case .question: return "question"
        }
    }
}
```

### –®–∞–≥ 2: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞—Ö–≤–∞—Ç–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞
```swift
// –í FeedbackManager
func captureScreenBeforeFeedback() {
    guard let windowScene = UIApplication.shared.connectedScenes.first as? UIWindowScene,
          let window = windowScene.windows.first else { return }
    
    let renderer = UIGraphicsImageRenderer(bounds: window.bounds)
    let image = renderer.image { context in
        window.layer.render(in: context.cgContext)
    }
    
    self.screenshot = image
}

func presentFeedback() {
    captureScreenBeforeFeedback()
    DispatchQueue.main.asyncAfter(deadline: .now() + 0.1) {
        self.isShowingFeedback = true
    }
}
```

### –®–∞–≥ 3: –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
```python
# –í feedback_server.py –¥–æ–±–∞–≤–∏—Ç—å –∑–∞–≥—Ä—É–∑–∫—É –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
async def upload_screenshot_to_imgur(base64_image):
    """–ó–∞–≥—Ä—É–∂–∞–µ—Ç —Å–∫—Ä–∏–Ω—à–æ—Ç –Ω–∞ Imgur –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç URL"""
    # –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ Imgur
    pass

async def create_github_issue_with_screenshot(feedback_data):
    """–°–æ–∑–¥–∞–µ—Ç GitHub issue —Å–æ —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–º"""
    screenshot_url = None
    if feedback_data.get('screenshot'):
        screenshot_url = await upload_screenshot_to_imgur(feedback_data['screenshot'])
    
    # –î–æ–±–∞–≤–∏—Ç—å screenshot_url –≤ body issue
    if screenshot_url:
        body += f"\n\n## üì∏ –°–∫—Ä–∏–Ω—à–æ—Ç\n![Screenshot]({screenshot_url})"
```

## ‚úÖ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

1. **–°–∫—Ä–∏–Ω—à–æ—Ç—ã –≤ GitHub Issues**: –ö–∞–∂–¥—ã–π –æ—Ç–∑—ã–≤ —Å —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–º –±—É–¥–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ issue
2. **–ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ç–∏–ø—ã**: –¢–∏–ø—ã –æ–±—Ä–∞—â–µ–Ω–∏–π –±—É–¥—É—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è labels
3. **–ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Å–∫—Ä–∏–Ω—à–æ—Ç**: –ë—É–¥–µ—Ç –∑–∞—Ö–≤–∞—Ç—ã–≤–∞—Ç—å—Å—è —ç–∫—Ä–∞–Ω, —Å –∫–æ—Ç–æ—Ä–æ–≥–æ –≤—ã–∑–≤–∞–Ω–∞ –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å

## üìä –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞

- 100% —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ GitHub Issues
- 100% –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö —Ç–∏–ø–æ–≤ –æ–±—Ä–∞—â–µ–Ω–∏–π
- 0% —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤ —Ñ–æ—Ä–º—ã –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏ (—Ç–æ–ª—å–∫–æ –ø—Ä–µ–¥—ã–¥—É—â–∏–π —ç–∫—Ä–∞–Ω) 