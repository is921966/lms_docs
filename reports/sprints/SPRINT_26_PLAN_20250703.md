# Sprint 26 Plan - Integration & API Gateway

**Sprint**: 26  
**–î–Ω–∏**: 124-128  
**–î–∞—Ç—ã**: 3-7 –∏—é–ª—è 2025  
**–¶–µ–ª—å**: –°–æ–∑–¥–∞—Ç—å API Gateway, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –∏ –∏—Å–ø—Ä–∞–≤–∏—Ç—å Competency –º–æ–¥—É–ª—å

## üéØ –¶–µ–ª–∏ —Å–ø—Ä–∏–Ω—Ç–∞

### 1. API Gateway (2 –¥–Ω—è)
- –ï–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –¥–ª—è –≤—Å–µ—Ö –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤
- JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- Rate limiting –∏ –∑–∞—â–∏—Ç–∞ –æ—Ç DDoS
- Request routing –∏ load balancing
- API versioning –ø–æ–¥–¥–µ—Ä–∂–∫–∞

### 2. Integration Tests (2 –¥–Ω—è)
- User ‚Üí Learning flow (—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è ‚Üí –∫—É—Ä—Å—ã)
- Learning ‚Üí Program flow (–∫—É—Ä—Å—ã ‚Üí –ø—Ä–æ–≥—Ä–∞–º–º—ã)
- Program ‚Üí Notification flow (—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –∑–∞—á–∏—Å–ª–µ–Ω–∏–∏)
- End-to-end —Å—Ü–µ–Ω–∞—Ä–∏–∏ –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—É—Ç–µ–π
- Performance —Ç–µ—Å—Ç—ã –æ—Å–Ω–æ–≤–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

### 3. Competency Module Refactoring (1 –¥–µ–Ω—å)
- –ò—Å–ø—Ä–∞–≤–∏—Ç—å –≤—Å–µ failing —Ç–µ—Å—Ç—ã (~50)
- –û–±–Ω–æ–≤–∏—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –¥–æ DDD —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Position –∏ User –º–æ–¥—É–ª—è–º–∏
- –î–æ–±–∞–≤–∏—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ use cases

### 4. Database Setup
- –°–æ–∑–¥–∞—Ç—å production-ready –º–∏–≥—Ä–∞—Ü–∏–∏
- Seed –¥–∞–Ω–Ω—ã–µ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏
- –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- Backup –∏ restore –ø—Ä–æ—Ü–µ–¥—É—Ä—ã

## üìã User Stories

### Story 1: API Gateway Implementation
**As a** system architect  
**I need** a centralized API gateway  
**So that** all requests are properly authenticated and routed

**Acceptance Criteria**:
```gherkin
Given a request to any microservice
When it passes through the API Gateway
Then it should be authenticated via JWT
And routed to the correct service
And rate limited per user
```

### Story 2: Integration Test Suite
**As a** QA engineer  
**I need** comprehensive integration tests  
**So that** we can verify cross-service workflows

**Acceptance Criteria**:
```gherkin
Given a user registration flow
When the user completes all steps
Then they should be created in User service
And enrolled in onboarding program
And receive welcome notification
```

### Story 3: Competency Module Fix
**As a** developer  
**I need** all Competency tests passing  
**So that** the module is production ready

**Acceptance Criteria**:
```gherkin
Given the Competency module
When I run all tests
Then 100% should pass
And coverage should be >90%
```

## üèóÔ∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### API Gateway Stack
- **Framework**: Symfony API Platform –∏–ª–∏ Kong
- **Authentication**: JWT —Å refresh tokens
- **Rate Limiting**: Redis-based
- **Monitoring**: Prometheus metrics
- **Documentation**: OpenAPI aggregation

### Integration Test Architecture
```yaml
Test Scenarios:
  - User Journey:
      - Register ‚Üí Login ‚Üí Browse Courses
      - Enroll ‚Üí Complete ‚Üí Get Certificate
  - Admin Journey:
      - Create Program ‚Üí Add Courses
      - Assign to Users ‚Üí Track Progress
  - Notification Flow:
      - Trigger ‚Üí Queue ‚Üí Send ‚Üí Track
```

## üìä Definition of Done

### Story Level
- [ ] –ö–æ–¥ –Ω–∞–ø–∏—Å–∞–Ω —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º TDD
- [ ] Unit —Ç–µ—Å—Ç—ã –ø–æ–∫—Ä—ã–≤–∞—é—Ç >90%
- [ ] Integration —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- [ ] API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞
- [ ] Performance benchmarks –ø—Ä–æ–π–¥–µ–Ω—ã

### Sprint Level
- [ ] API Gateway –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω
- [ ] –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã
- [ ] Competency –º–æ–¥—É–ª—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω
- [ ] E2E —Ç–µ—Å—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω—ã
- [ ] Database –≥–æ—Ç–æ–≤–∞ –∫ production

## üîÑ –†–∏—Å–∫–∏ –∏ –º–∏—Ç–∏–≥–∞—Ü–∏—è

1. **–†–∏—Å–∫**: –°–ª–æ–∂–Ω–æ—Å—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ API Gateway
   - **–ú–∏—Ç–∏–≥–∞—Ü–∏—è**: –ù–∞—á–∞—Ç—å —Å –ø—Ä–æ—Å—Ç–æ–≥–æ proxy, –∏—Ç–µ—Ä–∞—Ç–∏–≤–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å features

2. **–†–∏—Å–∫**: Integration —Ç–µ—Å—Ç—ã –º–æ–≥—É—Ç –±—ã—Ç—å –º–µ–¥–ª–µ–Ω–Ω—ã–º–∏
   - **–ú–∏—Ç–∏–≥–∞—Ü–∏—è**: –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ, test containers

3. **–†–∏—Å–∫**: Competency —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –º–æ–∂–µ—Ç —Å–ª–æ–º–∞—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
   - **–ú–∏—Ç–∏–≥–∞—Ü–∏—è**: –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω—ã–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤

## üìà –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞

- API Gateway –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç 1000+ RPS
- Integration —Ç–µ—Å—Ç—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è < 5 –º–∏–Ω—É—Ç
- 100% backend —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ—Ö–æ–¥—è—Ç
- Zero downtime deployment –≥–æ—Ç–æ–≤

## üöÄ –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

–ö –∫–æ–Ω—Ü—É —Å–ø—Ä–∏–Ω—Ç–∞:
1. **–ü–æ–ª–Ω–æ—Å—Ç—å—é –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π backend** —Å –µ–¥–∏–Ω–æ–π —Ç–æ—á–∫–æ–π –≤—Ö–æ–¥–∞
2. **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** –≤—Å–µ—Ö –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—É—Ç–µ–π
3. **Production-ready –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** —Å –º–∏–≥—Ä–∞—Ü–∏—è–º–∏
4. **100% –º–æ–¥—É–ª–µ–π –≥–æ—Ç–æ–≤—ã** –∫ deployment

---

*Sprint 26 - –∫–ª—é—á–µ–≤–æ–π —ç—Ç–∞–ø –ø–µ—Ä–µ–¥ —Ñ–∏–Ω–∞–ª—å–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π —Å iOS –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º. –§–æ–∫—É—Å –Ω–∞ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏ –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç–∏.* 