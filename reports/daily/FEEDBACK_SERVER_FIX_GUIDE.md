# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Feedback Server –Ω–∞ Railway

**–î–∞—Ç–∞**: 22 –∏—é–ª—è 2025  
**–ü—Ä–æ–±–ª–µ–º–∞**: 502 Bad Gateway –Ω–∞ lms-feedback-server

## üîç –ù–∞–π–¥–µ–Ω–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞

Feedback Server –Ω–µ –±—ã–ª –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å gunicorn:
- –í Procfile —É–∫–∞–∑–∞–Ω –∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ gunicorn
- –ù–æ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π feedback_server.py –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª `app.run()` –≤–º–µ—Å—Ç–æ —ç–∫—Å–ø–æ—Ä—Ç–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –≠—Ç–æ –ø—Ä–∏–≤–æ–¥–∏–ª–æ –∫ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∑–∞–ø—É—Å–∫–∞ —á–µ—Ä–µ–∑ gunicorn

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

–°–æ–∑–¥–∞–Ω–∞ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è `feedback_server_railway.py`:
1. –£–±—Ä–∞–Ω `if __name__ == '__main__'` –±–ª–æ–∫
2. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ Flask –¥–æ—Å—Ç—É–ø–Ω–æ –Ω–∞ —É—Ä–æ–≤–Ω–µ –º–æ–¥—É–ª—è –¥–ª—è gunicorn
3. –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
4. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã –≤ Railway –æ–∫—Ä—É–∂–µ–Ω–∏–∏

## üöÄ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –¥–µ–ø–ª–æ—é

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ Railway CLI

```bash
# –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É scripts
cd LMS_App/LMS/scripts

# –õ–æ–≥–∏–Ω –≤ Railway (–µ—Å–ª–∏ –µ—â–µ –Ω–µ –∑–∞–ª–æ–≥–∏–Ω–µ–Ω—ã)
railway login

# –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç lms-feedback-server
railway link

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
railway variables

# –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω GITHUB_TOKEN!
# –ï—Å–ª–∏ –Ω–µ—Ç, —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ:
railway variables set GITHUB_TOKEN="your_github_token_here"

# –î–µ–ø–ª–æ–π –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
railway up
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ GitHub (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∞–≤—Ç–æ–¥–µ–ø–ª–æ–π)

```bash
# –î–æ–±–∞–≤—å—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
git add LMS_App/LMS/scripts/feedback_server.py
git commit -m "fix: Railway-compatible feedback server"
git push
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ß–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Railway

1. –û—Ç–∫—Ä–æ–π—Ç–µ [railway.app](https://railway.app)
2. –ù–∞–π–¥–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç `lms-feedback-server`
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Settings ‚Üí Deploy
4. –ù–∞–∂–º–∏—Ç–µ "Redeploy"

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

1. **Health endpoint**:
   ```bash
   curl https://lms-feedback-server-production.up.railway.app/health
   ```

2. **Dashboard**:
   –û—Ç–∫—Ä–æ–π—Ç–µ https://lms-feedback-server-production.up.railway.app

3. **–õ–æ–≥–∏ Railway**:
   ```bash
   railway logs
   ```

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

1. **GitHub Token** - —É–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `GITHUB_TOKEN` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –≤ Railway
2. **Gunicorn** - —Å–µ—Ä–≤–µ—Ä —Ç–µ–ø–µ—Ä—å –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ gunicorn, –Ω–µ —á–µ—Ä–µ–∑ flask run
3. **Memory storage** - feedback —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –ø–∞–º—è—Ç–∏ (–¥–æ 1000 –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –∑–∞–ø–∏—Å–µ–π)
4. **Auto-restart** - Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç —Å–µ—Ä–≤–µ—Ä –ø—Ä–∏ —Å–±–æ–µ

## üì± –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ iOS –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

–£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤ `ServerFeedbackService.swift` –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π URL:
```swift
private let serverURL = "https://lms-feedback-server-production.up.railway.app/api/v1/feedback"
```

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:
- ‚úÖ Feedback Server –¥–æ–ª–∂–µ–Ω –æ—Ç–≤–µ—á–∞—Ç—å 200 OK
- ‚úÖ Dashboard –¥–æ–ª–∂–µ–Ω –æ—Ç–∫—Ä—ã–≤–∞—Ç—å—Å—è
- ‚úÖ Health check –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å—Ç–∞—Ç—É—Å
- ‚úÖ Feedback –∏–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–æ–ª–∂–µ–Ω –ø—Ä–∏–Ω–∏–º–∞—Ç—å—Å—è

---

**–°—Ç–∞—Ç—É—Å**: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω—ã, —Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–µ–ø–ª–æ–π –Ω–∞ Railway 