# ÐžÑ‚Ñ‡ÐµÑ‚ Ð¾ Ð¿Ñ€Ð¾Ð³Ñ€ÐµÑÑÐµ - Ð”ÐµÐ½ÑŒ 166 (Sprint 48, Ð”ÐµÐ½ÑŒ 1)

**Ð”Ð°Ñ‚Ð°**: 14 Ð¸ÑŽÐ»Ñ 2025  
**Sprint**: 48 - ÐœÐ¾Ð´ÑƒÐ»ÑŒ "ÐžÑ€Ð³ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð° ÐºÐ¾Ð¼Ð¿Ð°Ð½Ð¸Ð¸"  
**Ð”ÐµÐ½ÑŒ Ð² ÑÐ¿Ñ€Ð¸Ð½Ñ‚Ðµ**: 1 Ð¸Ð· 7

## ðŸ“‹ ÐŸÐ»Ð°Ð½ Ð½Ð° Ð´ÐµÐ½ÑŒ
- [x] Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Domain Ð¼Ð¾Ð´ÐµÐ»Ð¸ (Department, Employee)
- [x] ÐÐ°Ð¿Ð¸ÑÐ°Ñ‚ÑŒ unit Ñ‚ÐµÑÑ‚Ñ‹ Ð´Ð»Ñ Ð¼Ð¾Ð´ÐµÐ»ÐµÐ¹
- [x] Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸Ð¸ Ð‘Ð”
- [x] Ð ÐµÐ°Ð»Ð¸Ð·Ð¾Ð²Ð°Ñ‚ÑŒ Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸Ð¸ Ñ Ñ‚ÐµÑÑ‚Ð°Ð¼Ð¸
- [x] API ÐºÐ¾Ð½Ñ‚Ñ€Ð°ÐºÑ‚Ñ‹ Ð² OpenAPI

## âœ… Ð’Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¾

### 1. Domain Ð¼Ð¾Ð´ÐµÐ»Ð¸ Ð¸ Value Objects
Ð¡Ð¾Ð·Ð´Ð°Ð½Ñ‹ Ð²ÑÐµ Ð½ÐµÐ¾Ð±Ñ…Ð¾Ð´Ð¸Ð¼Ñ‹Ðµ Domain ÑÑƒÑ‰Ð½Ð¾ÑÑ‚Ð¸:

**Entities:**
- `Department` - Ð¿Ð¾Ð´Ñ€Ð°Ð·Ð´ÐµÐ»ÐµÐ½Ð¸Ðµ Ñ Ð¸ÐµÑ€Ð°Ñ€Ñ…Ð¸ÐµÐ¹
- `Employee` - ÑÐ¾Ñ‚Ñ€ÑƒÐ´Ð½Ð¸Ðº Ð¾Ñ€Ð³Ð°Ð½Ð¸Ð·Ð°Ñ†Ð¸Ð¸

**Value Objects:**
- `DepartmentCode` - ÐºÐ¾Ð´ Ð¿Ð¾Ð´Ñ€Ð°Ð·Ð´ÐµÐ»ÐµÐ½Ð¸Ñ (ÐÐŸ.X.X.X)
- `TabNumber` - Ñ‚Ð°Ð±ÐµÐ»ÑŒÐ½Ñ‹Ð¹ Ð½Ð¾Ð¼ÐµÑ€ (ÐÐ  + 8 Ñ†Ð¸Ñ„Ñ€)

**Exceptions:**
- `InvalidDepartmentCodeException`
- `InvalidTabNumberException`
- `InvalidDepartmentDataException`
- `InvalidEmployeeDataException`

### 2. Ð¢ÐµÑÑ‚Ñ‹ Domain ÑÐ»Ð¾Ñ
ÐÐ°Ð¿Ð¸ÑÐ°Ð½Ñ‹ ÐºÐ¾Ð¼Ð¿Ð»ÐµÐºÑÐ½Ñ‹Ðµ Ñ‚ÐµÑÑ‚Ñ‹ Ð´Ð»Ñ Ð²ÑÐµÑ… Ð¼Ð¾Ð´ÐµÐ»ÐµÐ¹:
- **DepartmentTest** - 8 Ñ‚ÐµÑÑ‚Ð¾Ð²
- **EmployeeTest** - 10 Ñ‚ÐµÑÑ‚Ð¾Ð²
- **DepartmentCodeTest** - 9 Ñ‚ÐµÑÑ‚Ð¾Ð²
- **TabNumberTest** - 7 Ñ‚ÐµÑÑ‚Ð¾Ð²

**Ð’ÑÐµÐ³Ð¾**: 34 Ñ‚ÐµÑÑ‚Ð°, Ð²ÑÐµ Ð¿Ñ€Ð¾Ñ…Ð¾Ð´ÑÑ‚ âœ…

### 3. ÐœÐ¸Ð³Ñ€Ð°Ñ†Ð¸Ð¸ Ð±Ð°Ð·Ñ‹ Ð´Ð°Ð½Ð½Ñ‹Ñ…
Ð¡Ð¾Ð·Ð´Ð°Ð½Ñ‹ Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸Ð¸ Ð² Ð´Ð²ÑƒÑ… Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ð°Ñ…:

**PHP Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸Ð¸:**
- `021_create_departments_table.php`
- `022_create_org_employees_table.php`

**SQL Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸Ð¸ Ð´Ð»Ñ PostgreSQL:**
- `021_create_departments_table.sql`
- `022_create_org_employees_table.sql`

### 4. Ð ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸Ð¸
- Ð¡Ð¾Ð·Ð´Ð°Ð½ Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹Ñ `DepartmentRepositoryInterface`
- Ð ÐµÐ°Ð»Ð¸Ð·Ð¾Ð²Ð°Ð½ `DepartmentRepository` Ñ Eloquent
- ÐÐ°Ð¿Ð¸ÑÐ°Ð½Ñ‹ Ñ‚ÐµÑÑ‚Ñ‹ `DepartmentRepositoryTest` (9 Ñ‚ÐµÑÑ‚Ð¾Ð²)

### 5. API ÐºÐ¾Ð½Ñ‚Ñ€Ð°ÐºÑ‚Ñ‹
Ð¡Ð¾Ð·Ð´Ð°Ð½Ð° Ð¿Ð¾Ð»Ð½Ð°Ñ OpenAPI ÑÐ¿ÐµÑ†Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ñ:
- 8 endpoints Ð´Ð»Ñ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ Ð¿Ð¾Ð´Ñ€Ð°Ð·Ð´ÐµÐ»ÐµÐ½Ð¸ÑÐ¼Ð¸ Ð¸ ÑÐ¾Ñ‚Ñ€ÑƒÐ´Ð½Ð¸ÐºÐ°Ð¼Ð¸
- Endpoint Ð´Ð»Ñ Ð¸Ð¼Ð¿Ð¾Ñ€Ñ‚Ð° Ð¸Ð· Excel
- Ð”ÐµÑ‚Ð°Ð»ÑŒÐ½Ñ‹Ðµ ÑÑ…ÐµÐ¼Ñ‹ Ð´Ð°Ð½Ð½Ñ‹Ñ…
- Ð”Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ Ð¾ÑˆÐ¸Ð±Ð¾Ðº

## ðŸ› ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹ Ð¸ Ñ€ÐµÑˆÐµÐ½Ð¸Ñ

### ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð° 1: ÐÐ²Ñ‚Ð¾Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐ° ÐºÐ»Ð°ÑÑÐ¾Ð²
**ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð°**: Ð¢ÐµÑÑ‚Ñ‹ Ð½Ðµ Ð½Ð°Ñ…Ð¾Ð´Ð¸Ð»Ð¸ Ð½Ð¾Ð²Ñ‹Ðµ ÐºÐ»Ð°ÑÑÑ‹  
**Ð ÐµÑˆÐµÐ½Ð¸Ðµ**: Ð”Ð¾Ð±Ð°Ð²Ð»ÐµÐ½ `"App\\": "src/"` Ð² composer.json autoload

### ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð° 2: ÐšÐ¸Ñ€Ð¸Ð»Ð»Ð¸Ñ†Ð° Ð² TabNumber
**ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð°**: `substr()` Ð½ÐµÐ¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾ Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ð» Ñ UTF-8  
**Ð ÐµÑˆÐµÐ½Ð¸Ðµ**: Ð—Ð°Ð¼ÐµÐ½ÐµÐ½ Ð½Ð° `mb_substr()`

### ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð° 3: Docker build
**ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð°**: ÐÐµ ÑÐ¾Ð±Ð¸Ñ€Ð°Ð»ÑÑ Docker Ð¾Ð±Ñ€Ð°Ð·  
**Ð ÐµÑˆÐµÐ½Ð¸Ðµ**: Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð»Ð¸ Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ñ‹Ð¹ PHP Ð´Ð»Ñ Ñ‚ÐµÑÑ‚Ð¾Ð²

## ðŸ“Š ÐœÐµÑ‚Ñ€Ð¸ÐºÐ¸

### Ð¡ÐºÐ¾Ñ€Ð¾ÑÑ‚ÑŒ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ¸:
- **Ð’Ñ€ÐµÐ¼Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹**: ~2 Ñ‡Ð°ÑÐ°
- **Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¾ Ñ„Ð°Ð¹Ð»Ð¾Ð²**: 20
- **ÐÐ°Ð¿Ð¸ÑÐ°Ð½Ð¾ Ñ‚ÐµÑÑ‚Ð¾Ð²**: 34
- **ÐŸÐ¾ÐºÑ€Ñ‹Ñ‚Ð¸Ðµ Ñ‚ÐµÑÑ‚Ð°Ð¼Ð¸**: 100% Ð´Ð»Ñ Domain ÑÐ»Ð¾Ñ

### TDD Ð¼ÐµÑ‚Ñ€Ð¸ÐºÐ¸:
- **TDD Compliance**: 100% (Ð²ÑÐµ Ñ‚ÐµÑÑ‚Ñ‹ Ð½Ð°Ð¿Ð¸ÑÐ°Ð½Ñ‹ Ð¿ÐµÑ€Ð²Ñ‹Ð¼Ð¸)
- **ÐšÑ€Ð°ÑÐ½Ð°Ñ Ñ„Ð°Ð·Ð°**: âœ… Ð’ÑÐµ Ñ‚ÐµÑÑ‚Ñ‹ Ð±Ñ‹Ð»Ð¸ ÐºÑ€Ð°ÑÐ½Ñ‹Ð¼Ð¸
- **Ð—ÐµÐ»ÐµÐ½Ð°Ñ Ñ„Ð°Ð·Ð°**: âœ… Ð’ÑÐµ Ñ‚ÐµÑÑ‚Ñ‹ Ð¿Ñ€Ð¾ÑˆÐ»Ð¸ Ð¿Ð¾ÑÐ»Ðµ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ð¸
- **Ð ÐµÑ„Ð°ÐºÑ‚Ð¾Ñ€Ð¸Ð½Ð³**: âœ… Ð˜ÑÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð° Ñ€Ð°Ð±Ð¾Ñ‚Ð° Ñ UTF-8

## ðŸ“ ÐšÐ¾Ð´ Ð¿Ñ€Ð¸Ð¼ÐµÑ€Ñ‹

### Value Object Ð¿Ñ€Ð¸Ð¼ÐµÑ€:
```php
final class DepartmentCode
{
    private const PATTERN = '/^ÐÐŸ(\.\d+)*$/u';
    
    public function getLevel(): int
    {
        return substr_count($this->value, '.');
    }
    
    public function isChildOf(self $other): bool
    {
        return str_starts_with($this->value, $other->getValue() . '.') 
            && strlen($this->value) > strlen($other->getValue());
    }
}
```

### Entity Ð¿Ñ€Ð¸Ð¼ÐµÑ€:
```php
class Department
{
    public function getCodePath(): array
    {
        $segments = $this->code->getSegments();
        $path = [];
        
        for ($i = 1; $i <= count($segments); $i++) {
            $path[] = implode('.', array_slice($segments, 0, $i));
        }
        
        return $path;
    }
}
```

## ðŸŽ¯ Ð¡Ð»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ðµ ÑˆÐ°Ð³Ð¸ (Ð”ÐµÐ½ÑŒ 2)

Ð—Ð°Ð²Ñ‚Ñ€Ð° Ð¿Ð»Ð°Ð½Ð¸Ñ€ÑƒÑŽ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð¾Ð²Ð°Ñ‚ÑŒ:
1. **OrgStructureService** - Ð±Ð¸Ð·Ð½ÐµÑ-Ð»Ð¾Ð³Ð¸ÐºÐ°
2. **ExcelParser** - Ð¿Ð°Ñ€ÑÐ¸Ð½Ð³ Excel Ñ„Ð°Ð¹Ð»Ð¾Ð²
3. **API endpoints** - REST ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»Ð»ÐµÑ€Ñ‹
4. **Integration Ñ‚ÐµÑÑ‚Ñ‹** Ð´Ð»Ñ API
5. **Seed Ð´Ð°Ð½Ð½Ñ‹Ðµ** Ð´Ð»Ñ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ¸

## ðŸ“ˆ ÐŸÑ€Ð¾Ð³Ñ€ÐµÑÑ ÑÐ¿Ñ€Ð¸Ð½Ñ‚Ð°

```
Ð”ÐµÐ½ÑŒ 1: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% âœ…
Ð”ÐµÐ½ÑŒ 2: â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 0%
Ð”ÐµÐ½ÑŒ 3: â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 0%
Ð”ÐµÐ½ÑŒ 4: â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 0%
Ð”ÐµÐ½ÑŒ 5: â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 0%
Ð”ÐµÐ½ÑŒ 6: â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 0%
Ð”ÐµÐ½ÑŒ 7: â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 0%

ÐžÐ±Ñ‰Ð¸Ð¹ Ð¿Ñ€Ð¾Ð³Ñ€ÐµÑÑ: 14% (1/7 Ð´Ð½ÐµÐ¹)
```

## ðŸ’¡ Ð’Ñ‹Ð²Ð¾Ð´Ñ‹

ÐŸÐµÑ€Ð²Ñ‹Ð¹ Ð´ÐµÐ½ÑŒ Sprint 48 Ð¿Ñ€Ð¾ÑˆÐµÐ» Ð¾Ñ‡ÐµÐ½ÑŒ Ð¿Ñ€Ð¾Ð´ÑƒÐºÑ‚Ð¸Ð²Ð½Ð¾:
- âœ… ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð¾Ð²Ð°Ð½ Domain ÑÐ»Ð¾Ð¹
- âœ… 100% TDD Ð¿Ð¾Ð´Ñ…Ð¾Ð´ ÑÐ¾Ð±Ð»ÑŽÐ´ÐµÐ½
- âœ… Ð’ÑÐµ Ð·Ð°Ð¿Ð»Ð°Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ðµ Ð·Ð°Ð´Ð°Ñ‡Ð¸ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ñ‹
- âœ… Ð¡Ð¾Ð·Ð´Ð°Ð½Ð° Ð¿Ñ€Ð¾Ñ‡Ð½Ð°Ñ Ð¾ÑÐ½Ð¾Ð²Ð° Ð´Ð»Ñ Ð´Ð°Ð»ÑŒÐ½ÐµÐ¹ÑˆÐµÐ¹ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ¸

Backend Domain Ð¼Ð¾Ð´ÐµÐ»Ð¸ Ð³Ð¾Ñ‚Ð¾Ð²Ñ‹, Ð·Ð°Ð²Ñ‚Ñ€Ð° Ð¿ÐµÑ€ÐµÐ¹Ð´ÐµÐ¼ Ðº ÑÐµÑ€Ð²Ð¸ÑÐ°Ð¼ Ð¸ API! 