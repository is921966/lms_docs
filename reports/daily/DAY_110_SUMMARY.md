# –î–µ–Ω—å 110 (–ö–∞–ª–µ–Ω–¥–∞—Ä–Ω—ã–π –¥–µ–Ω—å 11) - Sprint 23, –î–µ–Ω—å 3/5

**–î–∞—Ç–∞**: 1 –∏—é–ª—è 2025  
**–¶–µ–ª—å –¥–Ω—è**: –°–æ–∑–¥–∞—Ç—å Infrastructure Layer —Å Doctrine repositories  

## üìã –í—ã–ø–æ–ª–Ω–µ–Ω–æ

### ‚úÖ Repository Implementations (17 —Ç–µ—Å—Ç–æ–≤)
- [x] InMemoryCourseRepository - –ø–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è (9 —Ç–µ—Å—Ç–æ–≤)
  - save, findById, findByCourseCode
  - findAll, findBy —Å –∫—Ä–∏—Ç–µ—Ä–∏—è–º–∏
  - limit –∏ offset –ø–æ–¥–¥–µ—Ä–∂–∫–∞
  - delete –æ–ø–µ—Ä–∞—Ü–∏–∏
  - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∫—É—Ä—Å–æ–≤

### ‚úÖ Event Infrastructure (8 —Ç–µ—Å—Ç–æ–≤)
- [x] SymfonyEventDispatcher –∞–¥–∞–ø—Ç–µ—Ä (4 —Ç–µ—Å—Ç–∞)
  - dispatch —Å–æ–±—ã—Ç–∏–π
  - –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å–ª—É—à–∞—Ç–µ–ª–∏
  - Event subscribers
  - Priority propagation
- [x] EventStore –¥–ª—è –∞—É–¥–∏—Ç–∞ (4 —Ç–µ—Å—Ç–∞)
  - store —Å–æ–±—ã—Ç–∏–π —Å –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º
  - getEventsForAggregate
  - getEventsByType —Å –ª–∏–º–∏—Ç–æ–º
  - getLastEventVersion

### ‚úÖ Database Migrations (5 —Ñ–∞–π–ª–æ–≤)
- [x] 008_create_courses_table.php
- [x] 009_create_modules_table.php
- [x] 010_create_lessons_table.php
- [x] 011_create_enrollments_table.php
- [x] 012_create_progress_table.php

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–Ω—è

- **–°–æ–∑–¥–∞–Ω–æ –∫–ª–∞—Å—Å–æ–≤**: 3 (InMemoryCourseRepository, SymfonyEventDispatcher, EventStore)
- **–ù–∞–ø–∏—Å–∞–Ω–æ —Ç–µ—Å—Ç–æ–≤**: 17 (9 + 4 + 4)
- **–í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç**: ‚úÖ 100%
- **–°–æ–∑–¥–∞–Ω–Ω—ã—Ö –º–∏–≥—Ä–∞—Ü–∏–π**: 5
- **–°—Ç—Ä–æ–∫ –∫–æ–¥–∞**: ~500

## üéØ –î–æ—Å—Ç–∏–≥–Ω—É—Ç—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

Infrastructure Layer —á–∞—Å—Ç–∏—á–Ω–æ –≥–æ—Ç–æ–≤:
- ‚úÖ In-Memory —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –¥–ª—è —Ç–µ—Å—Ç–æ–≤
- ‚úÖ Event dispatching —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ Event Store –≥–æ—Ç–æ–≤ –¥–ª—è –∞—É–¥–∏—Ç–∞
- ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã
- ‚è≥ Doctrine —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –µ—â–µ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
- ‚è≥ Cache layer –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω

## üìà –ü—Ä–æ–≥—Ä–µ—Å—Å Learning Management –º–æ–¥—É–ª—è

```
Domain Layer:       ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 100%
Application Layer:  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë  70%
Infrastructure:     ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë  40%
HTTP Layer:         ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë   0%
```

## ‚è±Ô∏è –ó–∞—Ç—Ä–∞—á–µ–Ω–Ω–æ–µ –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω–æ–µ –≤—Ä–µ–º—è

- **–°–æ–∑–¥–∞–Ω–∏–µ InMemoryCourseRepository**: ~20 –º–∏–Ω—É—Ç
  - –ù–∞–ø–∏—Å–∞–Ω–∏–µ —Ç–µ—Å—Ç–∞: ~10 –º–∏–Ω—É—Ç
  - –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∫–ª–∞—Å—Å–∞: ~5 –º–∏–Ω—É—Ç
  - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫: ~5 –º–∏–Ω—É—Ç
- **Event Infrastructure**: ~15 –º–∏–Ω—É—Ç
  - SymfonyEventDispatcher: ~8 –º–∏–Ω—É—Ç
  - EventStore: ~7 –º–∏–Ω—É—Ç
- **Database Migrations**: ~10 –º–∏–Ω—É—Ç
- **–û–±—â–µ–µ –≤—Ä–µ–º—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏**: ~45 –º–∏–Ω—É—Ç

## üìà –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

- **–°–∫–æ—Ä–æ—Å—Ç—å –Ω–∞–ø–∏—Å–∞–Ω–∏—è –∫–æ–¥–∞**: ~11 —Å—Ç—Ä–æ–∫/–º–∏–Ω—É—Ç—É
- **–°–∫–æ—Ä–æ—Å—Ç—å –Ω–∞–ø–∏—Å–∞–Ω–∏—è —Ç–µ—Å—Ç–æ–≤**: ~23 —Ç–µ—Å—Ç–∞/—á–∞—Å
- **–°–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ –∫–æ–¥/—Ç–µ—Å—Ç—ã**: 1:1.5
- **–í—Ä–µ–º—è –Ω–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫**: 11% –æ—Ç –æ–±—â–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏
- **–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å TDD**: –≤—ã—Å–æ–∫–∞—è - –≤—Å–µ —Ç–µ—Å—Ç—ã –Ω–∞–ø–∏—Å–∞–Ω—ã –¥–æ –∫–æ–¥–∞

## üí° –í—ã–≤–æ–¥—ã –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –£—Å–ø–µ—Ö–∏:
1. TDD –ø—Ä–æ—Ü–µ—Å—Å —Ä–∞–±–æ—Ç–∞–µ—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ
2. In-Memory —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ —É–ø—Ä–æ—â–∞—é—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
3. Event Store –≥–æ—Ç–æ–≤ –¥–ª—è –∞—É–¥–∏—Ç–∞ –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π
4. –ú–∏–≥—Ä–∞—Ü–∏–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ

### –ü—Ä–æ–±–ª–µ–º—ã:
1. –ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –∏–º–ø–æ—Ä—Ç–æ–≤ –º–µ–∂–¥—É –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º–∏
2. –†–∞–∑–ª–∏—á–∏—è –≤ —Å–∏–≥–Ω–∞—Ç—É—Ä–∞—Ö –º–µ—Ç–æ–¥–æ–≤ ValueObjects
3. –ü—É—Ç–∞–Ω–∏—Ü–∞ —Å namespace –¥–ª—è Course (–Ω–µ –≤ Entities)

### –ü–ª–∞–Ω –Ω–∞ –î–µ–Ω—å 111:
1. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å DoctrineCourseRepository (10 —Ç–µ—Å—Ç–æ–≤)
2. –°–æ–∑–¥–∞—Ç—å DoctrineEnrollmentRepository (10 —Ç–µ—Å—Ç–æ–≤)
3. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å Cache layer (10 —Ç–µ—Å—Ç–æ–≤)
4. –°–æ–∑–¥–∞—Ç—å Doctrine mappings (5 —Ñ–∞–π–ª–æ–≤)
5. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏–∏

–í–µ—Ä—Å–∏—è 1.8.7 –∏—Å–ø—Ä–∞–≤–ª—è–µ—Ç –ø—Ä–æ–±–ª–µ–º—É —Å –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ–º –º–µ—Ç—Ä–∏–∫ –∏–∑ –æ—Ç—á–µ—Ç–æ–≤:
- –†–∞—Å—à–∏—Ä–µ–Ω—ã grep –ø–∞—Ç—Ç–µ—Ä–Ω—ã –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ "–∫–ª–∞—Å—Å–æ–≤/—á–∞—Å" –º–µ—Ç—Ä–∏–∫
- –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–æ–≤ –æ—Ç—á–µ—Ç–æ–≤ 