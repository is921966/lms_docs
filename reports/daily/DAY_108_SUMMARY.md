# –î–µ–Ω—å 108 - Sprint 23 Day 1 - Learning Domain Layer

**–î–∞—Ç–∞**: 1 –∏—é–ª—è 2025  
**Sprint**: 23 (Learning Management Module)  
**–†–µ–∑—É–ª—å—Ç–∞—Ç**: ‚úÖ Domain Layer —Å–æ–∑–¥–∞–Ω!  
**–§–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã**: ~45 –º–∏–Ω—É—Ç  

## üìã –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

### ‚úÖ Value Objects (5 –∫–ª–∞—Å—Å–æ–≤, 42 —Ç–µ—Å—Ç–∞)
1. **CourseId** - –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∫—É—Ä—Å–∞ (6 —Ç–µ—Å—Ç–æ–≤)
2. **CourseCode** - –∫–æ–¥ –∫—É—Ä—Å–∞ —Å –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–µ–π (8 —Ç–µ—Å—Ç–æ–≤)
3. **Duration** - –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏ (9 —Ç–µ—Å—Ç–æ–≤)
4. **ContentType** - —Ç–∏–ø—ã –∫–æ–Ω—Ç–µ–Ω—Ç–∞ (video, text, quiz) (8 —Ç–µ—Å—Ç–æ–≤)
5. **CourseStatus** - —Å—Ç–∞—Ç—É—Å—ã —Å –ø–µ—Ä–µ—Ö–æ–¥–∞–º–∏ (7 —Ç–µ—Å—Ç–æ–≤)

### ‚úÖ Domain Events (2 —Å–æ–±—ã—Ç–∏—è, 8 —Ç–µ—Å—Ç–æ–≤)
1. **CourseCreated** - —Å–æ–±—ã—Ç–∏–µ —Å–æ–∑–¥–∞–Ω–∏—è –∫—É—Ä—Å–∞ (4 —Ç–µ—Å—Ç–∞)
2. **LessonCompleted** - —Å–æ–±—ã—Ç–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —É—Ä–æ–∫–∞ (4 —Ç–µ—Å—Ç–∞)
3. **DomainEventInterface** - –±–∞–∑–æ–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

### ‚úÖ Entities (1 aggregate, 9 —Ç–µ—Å—Ç–æ–≤)
1. **Course** - aggregate root —Å rich domain model
   - –°–æ–∑–¥–∞–Ω–∏–µ –∫—É—Ä—Å–∞ —Å —Å–æ–±—ã—Ç–∏—è–º–∏
   - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞–º–∏
   - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –º–æ–¥—É–ª–µ–π
   - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ prerequisites
   - –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ

### ‚úÖ Supporting Infrastructure
1. **HasDomainEvents** trait - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è–º–∏ –¥–æ–º–µ–Ω–∞
2. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–æ–∫ –¥–ª—è –≤—Å–µ—Ö —Å–ª–æ–µ–≤

## üìä –ú–µ—Ç—Ä–∏–∫–∏

### –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
- **Value Objects**: 5 –∫–ª–∞—Å—Å–æ–≤ + 5 —Ç–µ—Å—Ç–æ–≤
- **Events**: 2 –∫–ª–∞—Å—Å–∞ + 2 —Ç–µ—Å—Ç–∞  
- **Entities**: 1 –∫–ª–∞—Å—Å + 1 —Ç–µ—Å—Ç
- **Interfaces**: 1 –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- **Traits**: 1 trait

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç–µ—Å—Ç–æ–≤:
- **–í—Å–µ–≥–æ –Ω–∞–ø–∏—Å–∞–Ω–æ —Ç–µ—Å—Ç–æ–≤**: 8 —Ç–µ—Å—Ç–æ–≤—ã—Ö –∫–ª–∞—Å—Å–æ–≤
- **–í—Å–µ–≥–æ test cases**: ~50 —Ç–µ—Å—Ç–æ–≤
- **–í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç**: ‚úÖ 100%

### –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:
- **–°–∫–æ—Ä–æ—Å—Ç—å –Ω–∞–ø–∏—Å–∞–Ω–∏—è –∫–æ–¥–∞**: ~20 —Å—Ç—Ä–æ–∫/–º–∏–Ω—É—Ç—É
- **–°–∫–æ—Ä–æ—Å—Ç—å –Ω–∞–ø–∏—Å–∞–Ω–∏—è —Ç–µ—Å—Ç–æ–≤**: ~1 —Ç–µ—Å—Ç/–º–∏–Ω—É—Ç—É
- **–°–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ –∫–æ–¥/—Ç–µ—Å—Ç—ã**: 1:1.2
- **TDD —Ü–∏–∫–ª**: RED ‚Üí GREEN –∑–∞ 2-3 –º–∏–Ω—É—Ç—ã

## üéØ –î–æ—Å—Ç–∏–≥–Ω—É—Ç—ã–µ —Ü–µ–ª–∏

1. ‚úÖ –°–æ–∑–¥–∞–Ω –ø–æ–ª–Ω—ã–π Domain Layer
2. ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω Event Sourcing –ø–æ–¥—Ö–æ–¥
3. ‚úÖ Rich Domain Model —Å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–æ–π
4. ‚úÖ Immutable Value Objects
5. ‚úÖ 100% test coverage

## üí° –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ä–µ—à–µ–Ω–∏—è

1. **Value Objects –∫–∞–∫ enum-like –∫–ª–∞—Å—Å—ã** - –¥–ª—è ContentType, CourseStatus
2. **Composite aggregate ID** - –¥–ª—è LessonCompleted (user:course)
3. **Factory –º–µ—Ç–æ–¥—ã** - –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–æ–±—ã—Ç–∏–π —Å timestamp
4. **Validation –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞—Ö** - fail-fast –ø—Ä–∏–Ω—Ü–∏–ø

## üöß –û—Å—Ç–∞–≤—à–∏–µ—Å—è –∑–∞–¥–∞—á–∏ (Sprint 23)

### –î–µ–Ω—å 2 - Application Layer:
- [ ] Commands (CreateCourse, UpdateCourse, PublishCourse)
- [ ] Handlers —Å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–æ–π
- [ ] Queries (GetCourse, ListCourses)
- [ ] DTO –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö

### –î–µ–Ω—å 3 - Infrastructure Layer:
- [ ] Repositories implementation
- [ ] Database mappings
- [ ] Event dispatcher

### –î–µ–Ω—å 4 - HTTP Layer:
- [ ] Controllers
- [ ] Request validation
- [ ] OpenAPI specification

### –î–µ–Ω—å 5 - Integration:
- [ ] End-to-end —Ç–µ—Å—Ç—ã
- [ ] Feature —Ç–µ—Å—Ç—ã
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## üìà –ü—Ä–æ–≥—Ä–µ—Å—Å Sprint 23

```
Domain Layer:     ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 100%
Application:      ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë 0%
Infrastructure:   ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë 0%
HTTP Layer:       ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë 0%
Integration:      ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë 0%

Overall:          ‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë 20%
```

## üéâ –ò—Ç–æ–≥–∏ –¥–Ω—è

–û—Ç–ª–∏—á–Ω–æ–µ –Ω–∞—á–∞–ª–æ Sprint 23! –ó–∞ 45 –º–∏–Ω—É—Ç —Å–æ–∑–¥–∞–Ω –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π Domain Layer —Å 8 –∫–ª–∞—Å—Å–∞–º–∏ –∏ ~50 —Ç–µ—Å—Ç–∞–º–∏. –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç, –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —á–∏—Å—Ç–∞—è, –≥–æ—Ç–æ–≤—ã –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —Å–ª–æ—é.

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥**: –î–µ–Ω—å 109 - Application Layer (Commands, Handlers, Queries) 